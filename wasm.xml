<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Qt for WebAssembly</db:title>
<db:productname>QtDoc</db:productname>
<db:edition>Qt 5.12.12 Reference Documentation</db:edition>
<db:titleabbrev>Qt Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Runs Qt applications in a secure sandbox in the browser.</db:para>
</db:abstract>
<db:pubdate>2024-12-27</db:pubdate>
<db:date>2024-12-27</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para>WebAssembly is a binary format that allows sand-boxed executable code in web pages. This format is nearly as fast as native machine code, and is now supported by all major web browsers.</db:para>
<db:para>Qt for WebAssembly is a <db:link xlink:href="qpa.xml">platform plugin</db:link> that lets you build Qt applications, which can be integrated into your web pages. It doesn't require any client-side installations and reduces the server-side resource usage.</db:para>
<db:section xml:id="getting-started-with-qt-for-webassembly">
<db:title>Getting Started with Qt for WebAssembly</db:title>
<db:section xml:id="install-emscripten">
<db:title>Install Emscripten</db:title>
<db:para>emscripten is a toolchain for compiling to asm.js and Webassembly. It lets you run Qt on the web at near-native speed without plugins.</db:para>
<db:para>Refer to the <db:link xlink:href="http://kripken.github.io/emscripten-site/docs/getting_started/index.html">emscripten documentation</db:link> for the installation procedure.</db:para>
<db:para>After installation, you should have emscripten in your path. Check this with the following command:</db:para>
<db:programlisting language="cpp" role="bad">em++ --version
</db:programlisting>
</db:section>
<db:section xml:id="build-qt-from-the-sources">
<db:title>Build Qt from the sources</db:title>
<db:para>Download the Qt 5.12 sources and build Qt from source. Specify that we are cross-compiling for wasm using emscripten:</db:para>
<db:programlisting language="cpp" role="bad">$ ~/Qt/5.12.0/Src/configure -xplatform wasm-emscripten -nomake examples -prefix $PWD/qtbase
$ make module-qtbase module-qtdeclarative [other modules]
</db:programlisting>
<db:para>The Qt build is a static build, and does not support threads.</db:para>
</db:section>
<db:section xml:id="build-your-application">
<db:title>Build your application</db:title>
<db:programlisting language="cpp" role="bad">$ /path/to/qt-wasm/qtbase/bin/qmake
$ make
</db:programlisting>
<db:para>This generates the following files:</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Generated file</db:para>
</db:th>
<db:th>
<db:para>Brief Description</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para>app.html</db:para>
</db:td>
<db:td>
<db:para>HTML container</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>qtloader.js</db:para>
</db:td>
<db:td>
<db:para>JS API for loading Qt apps</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>app.js</db:para>
</db:td>
<db:td>
<db:para>JS API for loading Qt apps</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>app.wasm</db:para>
</db:td>
<db:td>
<db:para>emscripten app binary</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>When deploying the app, the compression is typically handled on the server side. We recommend to compress the wasm binaries because this typically reduces the size of the binary by 50 %.</db:para>
</db:section>
</db:section>
<db:section xml:id="some-examples">
<db:title>Some examples</db:title>
<db:itemizedlist>
<db:listitem>
<db:para><db:link xlink:href="http://example.qt.io/qt-webassembly/opengl/hellowindow/hellowindow.html">An example displaying a Qt logo using OpenGL calls</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://example.qt.io/qt-webassembly/SensorTagDemo/SensorTagDemo.html">An industry automation use case</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://example.qt.io/qt-webassembly/quickcontrols2/gallery/gallery.html">A gallery of available controls in Qt Quick Controls</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://example.qt.io/qt-webassembly/widgets/richtext/textedit/textedit.html">A simple text editor, written with Qt Widgets</db:link></db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="limitations">
<db:title>Limitations</db:title>
<db:para>The most important limitation is that the Qt build is static, and does not support threads.</db:para>
<db:para>For further info, refer to <db:link xlink:href="https://wiki.qt.io/Qt_for_WebAssembly#Known_issues_and_platform_notes">Known_issues_and_platform_notes</db:link>.</db:para>
</db:section>
<db:section xml:id="external-resources">
<db:title>External resources</db:title>
<db:itemizedlist>
<db:listitem>
<db:para><db:link xlink:href="http://blog.qt.io/blog/2018/04/23/beta-qt-webassembly-technology-preview/">Qt for WebAssembly Technology Preview</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://blog.qt.io/blog/2018/11/19/getting-started-qt-webassembly/">Qt and WebAssembly</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="https://wiki.qt.io/Qt_for_WebAssembly">Qt for WebAssembly wiki</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://blog.qt.io/blog/2018/11/19/getting-started-qt-webassembly/">Getting Started with Qt for WebAssembly</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://blog.qt.io/blog/2018/06/12/remote-uis-webgl-webassembly/">Remote UIs with WebGL and WebAssembly</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="https://webassembly.org">WebAssembly Resource site</db:link></db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="licenses">
<db:title>Licenses</db:title>
<db:para>Qt for WebAssembly is available under commercial licenses from <db:link xlink:href="http://www.qt.io/about-us/">The Qt Company</db:link>. In addition, it is available under the <db:link xlink:href="http://www.gnu.org/licenses/gpl-3.0.html">GNU General Public License, version 3</db:link>. See <db:link xlink:href="licensing.xml">Qt Licensing</db:link> for further details.</db:para>
</db:section>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="https://webassembly.org">WebAssembly Resource site</db:link></db:member>
<db:member><db:link xlink:href="http://blog.qt.io/blog/2018/11/19/getting-started-qt-webassembly/">Getting Started with Qt for WebAssembly</db:link></db:member>
<db:member><db:link xlink:href="">Remote UIs with WegGL and WebAssemblhy</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:article>
