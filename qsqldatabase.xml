<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>QSqlDatabase Class</db:title>
<db:productname>QtSql</db:productname>
<db:edition>Qt 5.6.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt SQL Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>The <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> class represents a connection to a database.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Header</db:term>
<db:listitem>
<db:para>QSqlDatabase</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>qmake</db:term>
<db:listitem>
<db:para>QT += sql</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Group</db:term>
<db:listitem>
<db:para>QSqlDatabase is part of <db:simplelist><db:member><db:link xlink:href="database.xml">Database Classes</db:link></db:member></db:simplelist>
</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:para>The <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> class provides an interface for accessing a database through a connection. An instance of <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> represents the connection. The connection provides access to the database via one of the <db:link xlink:href="sql-driver.xml#supported-databases">supported database drivers</db:link>, which are derived from <db:link xlink:href="qsqldriver.xml">QSqlDriver</db:link>. Alternatively, you can subclass your own database driver from <db:link xlink:href="qsqldriver.xml">QSqlDriver</db:link>. See <db:link xlink:href="sql-driver.xml#how-to-write-your-own-database-driver">How to Write Your Own Database Driver</db:link> for more information.</db:para>
<db:para>Create a connection (i.e., an instance of <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link>) by calling one of the static <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>() functions, where you specify <db:link xlink:href="sql-driver.xml#supported-databases">the driver or type of driver</db:link> to use (i.e., what kind of database will you access?) and a connection name. A connection is known by its own name, <db:emphasis>not</db:emphasis> by the name of the database it connects to. You can have multiple connections to one database. <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> also supports the concept of a <db:emphasis>default</db:emphasis> connection, which is the unnamed connection. To create the default connection, don't pass the connection name argument when you call <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>(). Subsequently, when you call any static member function that takes the connection name argument, if you don't pass the connection name argument, the default connection is assumed. The following snippet shows how to create and open a default connection to a PostgreSQL database:</db:para>
<db:programlisting language="cpp">    QSqlDatabase db = QSqlDatabase::addDatabase(&quot;QPSQL&quot;);
    db.setHostName(&quot;acidalia&quot;);
    db.setDatabaseName(&quot;customdb&quot;);
    db.setUserName(&quot;mojito&quot;);
    db.setPassword(&quot;J0a1m8&quot;);
    bool ok = db.open();
</db:programlisting>
<db:para>Once the <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> object has been created, set the connection parameters with <db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>(), <db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>(), <db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>(), <db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>(), <db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>(), and <db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>(). Then call <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() to activate the physical connection to the database. The connection is not usable until you open it.</db:para>
<db:para>The connection defined above will be the <db:emphasis>default</db:emphasis> connection, because we didn't give a connection name to <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>(). Subsequently, you can get the default connection by calling <db:link xlink:href="qsqldatabase.xml#database">database</db:link>() without the connection name argument:</db:para>
<db:programlisting language="cpp">    QSqlDatabase db = QSqlDatabase::database();
</db:programlisting>
<db:para><db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> is a value class. Changes made to a database connection via one instance of <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> will affect other instances of <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> that represent the same connection. Use <db:link xlink:href="qsqldatabase.xml#cloneDatabase">cloneDatabase</db:link>() to create an independent database connection based on an existing one.</db:para>
<db:para>If you create multiple database connections, specify a unique connection name for each one, when you call <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>(). Use <db:link xlink:href="qsqldatabase.xml#database">database</db:link>() with a connection name to get that connection. Use <db:link xlink:href="qsqldatabase.xml#removeDatabase">removeDatabase</db:link>() with a connection name to remove a connection. <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> outputs a warning if you try to remove a connection referenced by other <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> objects. Use <db:link xlink:href="qsqldatabase.xml#contains">contains</db:link>() to see if a given connection name is in the list of connections.</db:para>
<db:para>Once a connection is established, you can call <db:link xlink:href="qsqldatabase.xml#tables">tables</db:link>() to get the list of tables in the database, call <db:link xlink:href="qsqldatabase.xml#primaryIndex">primaryIndex</db:link>() to get a table's primary index, and call <db:link xlink:href="qsqldatabase.xml#record">record</db:link>() to get meta-information about a table's fields (e.g., field names).</db:para>
<db:note>
<db:para><db:link xlink:href="qsqldatabase.xml#exec">QSqlDatabase::exec</db:link>() is deprecated. Use <db:link xlink:href="qsqlquery.xml#exec">QSqlQuery::exec</db:link>() instead.</db:para>
</db:note>
<db:para>If the driver supports transactions, use <db:link xlink:href="qsqldatabase.xml#transaction">transaction</db:link>() to start a transaction, and <db:link xlink:href="qsqldatabase.xml#commit">commit</db:link>() or <db:link xlink:href="qsqldatabase.xml#rollback">rollback</db:link>() to complete it. Use <db:link xlink:href="qsqldriver.xml#hasFeature">hasFeature</db:link>() to ask if the driver supports transactions.</db:para>
<db:note>
<db:para>When using transactions, you must start the transaction before you create your query.</db:para>
</db:note>
<db:para>If an error occurs, <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>() will return information about it.</db:para>
<db:para>Get the names of the available SQL drivers with <db:link xlink:href="qsqldatabase.xml#drivers">drivers</db:link>(). Check for the presence of a particular driver with <db:link xlink:href="qsqldatabase.xml#isDriverAvailable">isDriverAvailable</db:link>(). If you have created your own custom driver, you must register it with <db:link xlink:href="qsqldatabase.xml#registerSqlDriver">registerSqlDriver</db:link>().</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldriver.xml">QSqlDriver</db:link></db:member>
<db:member><db:link xlink:href="qsqlquery.xml">QSqlQuery</db:link></db:member>
<db:member><db:link xlink:href="qtsql-index.xml">Qt SQL</db:link></db:member>
<db:member><db:link xlink:href="threads-modules.xml#threads-and-the-sql-module">Threads and the SQL Module</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="member-function-documentation">
<db:title>Member Function Documentation</db:title>
<db:section xml:id="QSqlDatabase">
<db:title>QSqlDatabase::QSqlDatabase()</db:title>
<db:para>Creates an empty, invalid <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> object. Use <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>(), <db:link xlink:href="qsqldatabase.xml#removeDatabase">removeDatabase</db:link>(), and <db:link xlink:href="qsqldatabase.xml#database">database</db:link>() to get valid <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> objects.</db:para>
</db:section>
<db:section xml:id="QSqlDatabase-2">
<db:title>[explicit protected] QSqlDatabase::QSqlDatabase(QSqlDriver *<db:emphasis>driver</db:emphasis>)</db:title>
<db:para>This is an overloaded function.</db:para>
<db:para>Creates a database connection using the given <db:code role="parameter">driver</db:code>.</db:para>
</db:section>
<db:section xml:id="QSqlDatabase-3">
<db:title>[explicit protected] QSqlDatabase::QSqlDatabase(const QString &amp;<db:emphasis>type</db:emphasis>)</db:title>
<db:para>This is an overloaded function.</db:para>
<db:para>Creates a <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> connection that uses the driver referred to by <db:code role="parameter">type</db:code>. If the <db:code role="parameter">type</db:code> is not recognized, the database connection will have no functionality.</db:para>
<db:para>The currently available driver types are:</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Driver Type</db:para>
</db:th>
<db:th>
<db:para>Description</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para>QDB2</db:para>
</db:td>
<db:td>
<db:para>IBM DB2</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QIBASE</db:para>
</db:td>
<db:td>
<db:para>Borland InterBase Driver</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QMYSQL</db:para>
</db:td>
<db:td>
<db:para>MySQL Driver</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QOCI</db:para>
</db:td>
<db:td>
<db:para>Oracle Call Interface Driver</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QODBC</db:para>
</db:td>
<db:td>
<db:para>ODBC Driver (includes Microsoft SQL Server)</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QPSQL</db:para>
</db:td>
<db:td>
<db:para>PostgreSQL Driver</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QSQLITE</db:para>
</db:td>
<db:td>
<db:para>SQLite version 3 or above</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QSQLITE2</db:para>
</db:td>
<db:td>
<db:para>SQLite version 2</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QTDS</db:para>
</db:td>
<db:td>
<db:para>Sybase Adaptive Server</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>Additional third party drivers, including your own custom drivers, can be loaded dynamically.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="sql-driver.xml">SQL Database Drivers</db:link></db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#registerSqlDriver">registerSqlDriver</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#drivers">drivers</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="QSqlDatabase-1">
<db:title>QSqlDatabase::QSqlDatabase(const QSqlDatabase &amp;<db:emphasis>other</db:emphasis>)</db:title>
<db:para>Creates a copy of <db:code role="parameter">other</db:code>.</db:para>
</db:section>
<db:section xml:id="dtor.QSqlDatabase">
<db:title>[noexcept] QSqlDatabase::~QSqlDatabase()</db:title>
<db:para>Destroys the object and frees any allocated resources.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#close">close</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="addDatabase">
<db:title>[static] QSqlDatabase QSqlDatabase::addDatabase(QSqlDriver *<db:emphasis>driver</db:emphasis>, const QString &amp;<db:emphasis>connectionName</db:emphasis> = QLatin1String(defaultConnection))</db:title>
<db:para>This overload is useful when you want to create a database connection with a <db:link xlink:href="qsqldriver.xml">driver</db:link> you instantiated yourself. It might be your own database driver, or you might just need to instantiate one of the Qt drivers yourself. If you do this, it is recommended that you include the driver code in your application. For example, you can create a PostgreSQL connection with your own QPSQL driver like this:</db:para>
<db:programlisting language="cpp">#include &quot;qtdir/src/sql/drivers/psql/qsql_psql.cpp&quot;

PGconn *con = PQconnectdb(&quot;host=server user=bart password=simpson dbname=springfield&quot;);
QPSQLDriver *drv =  new QPSQLDriver(con);
QSqlDatabase db = QSqlDatabase::addDatabase(drv); // becomes the new default connection
QSqlQuery query;
query.exec(&quot;SELECT NAME, ID FROM STAFF&quot;);
...
</db:programlisting>
<db:para>The above code sets up a PostgreSQL connection and instantiates a QPSQLDriver object. Next, addDatabase() is called to add the connection to the known connections so that it can be used by the Qt SQL classes. When a driver is instantiated with a connection handle (or set of handles), Qt assumes that you have already opened the database connection.</db:para>
<db:note>
<db:para>We assume that <db:code>qtdir</db:code> is the directory where Qt is installed. This will pull in the code that is needed to use the PostgreSQL client library and to instantiate a QPSQLDriver object, assuming that you have the PostgreSQL headers somewhere in your include search path.</db:para>
</db:note>
<db:para>Remember that you must link your application against the database client library. Make sure the client library is in your linker's search path, and add lines like these to your <db:code>.pro</db:code> file:</db:para>
<db:programlisting language="cpp">unix:LIBS += -lpq
win32:LIBS += libpqdll.lib
</db:programlisting>
<db:para>The method described works for all the supplied drivers. The only difference will be in the driver constructor arguments. Here is a table of the drivers included with Qt, their source code files, and their constructor arguments:</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Driver</db:para>
</db:th>
<db:th>
<db:para>Class name</db:para>
</db:th>
<db:th>
<db:para>Constructor arguments</db:para>
</db:th>
<db:th>
<db:para>File to include</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para>QPSQL</db:para>
</db:td>
<db:td>
<db:para>QPSQLDriver</db:para>
</db:td>
<db:td>
<db:para>PGconn *connection</db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_psql.cpp</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QMYSQL</db:para>
</db:td>
<db:td>
<db:para>QMYSQLDriver</db:para>
</db:td>
<db:td>
<db:para>MYSQL *connection</db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_mysql.cpp</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QOCI</db:para>
</db:td>
<db:td>
<db:para>QOCIDriver</db:para>
</db:td>
<db:td>
<db:para>OCIEnv *environment, OCISvcCtx *serviceContext</db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_oci.cpp</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QODBC</db:para>
</db:td>
<db:td>
<db:para>QODBCDriver</db:para>
</db:td>
<db:td>
<db:para>SQLHANDLE environment, SQLHANDLE connection</db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_odbc.cpp</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QDB2</db:para>
</db:td>
<db:td>
<db:para>QDB2</db:para>
</db:td>
<db:td>
<db:para>SQLHANDLE environment, SQLHANDLE connection</db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_db2.cpp</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QTDS</db:para>
</db:td>
<db:td>
<db:para>QTDSDriver</db:para>
</db:td>
<db:td>
<db:para>LOGINREC *loginRecord, DBPROCESS *dbProcess, const <db:link xlink:href="qstring.xml">QString</db:link> &amp;<db:link xlink:href="qsqldatabase.xml#hostName">hostName</db:link></db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_tds.cpp</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QSQLITE</db:para>
</db:td>
<db:td>
<db:para>QSQLiteDriver</db:para>
</db:td>
<db:td>
<db:para>sqlite *connection</db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_sqlite.cpp</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>QIBASE</db:para>
</db:td>
<db:td>
<db:para>QIBaseDriver</db:para>
</db:td>
<db:td>
<db:para>isc_db_handle connection</db:para>
</db:td>
<db:td>
<db:para><db:code>qsql_ibase.cpp</db:code></db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>The host name (or service name) is needed when constructing the QTDSDriver for creating new connections for internal queries. This is to prevent blocking when several <db:link xlink:href="qsqlquery.xml">QSqlQuery</db:link> objects are used simultaneously.</db:para>
<db:warning>
<db:para>Adding a database connection with the same connection name as an existing connection, causes the existing connection to be replaced by the new one.</db:para>
</db:warning>
<db:warning>
<db:para>The SQL framework takes ownership of the <db:code role="parameter">driver</db:code>. It must not be deleted. To remove the connection, use <db:link xlink:href="qsqldatabase.xml#removeDatabase">removeDatabase</db:link>().</db:para>
</db:warning>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#drivers">drivers</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="addDatabase-1">
<db:title>[static] QSqlDatabase QSqlDatabase::addDatabase(const QString &amp;<db:emphasis>type</db:emphasis>, const QString &amp;<db:emphasis>connectionName</db:emphasis> = QLatin1String(defaultConnection))</db:title>
<db:para>Adds a database to the list of database connections using the driver <db:code role="parameter">type</db:code> and the connection name <db:code role="parameter">connectionName</db:code>. If there already exists a database connection called <db:code role="parameter">connectionName</db:code>, that connection is removed.</db:para>
<db:para>The database connection is referred to by <db:code role="parameter">connectionName</db:code>. The newly added database connection is returned.</db:para>
<db:para>If <db:code role="parameter">type</db:code> is not available or could not be loaded, <db:link xlink:href="qsqldatabase.xml#isValid">isValid</db:link>() returns <db:code>false</db:code>.</db:para>
<db:para>If <db:code role="parameter">connectionName</db:code> is not specified, the new connection becomes the default connection for the application, and subsequent calls to <db:link xlink:href="qsqldatabase.xml#database">database</db:link>() without the connection name argument will return the default connection. If a <db:code role="parameter">connectionName</db:code> is provided here, use database(<db:code role="parameter">connectionName</db:code>) to retrieve the connection.</db:para>
<db:warning>
<db:para>If you add a connection with the same name as an existing connection, the new connection replaces the old one. If you call this function more than once without specifying <db:code role="parameter">connectionName</db:code>, the default connection will be the one replaced.</db:para>
</db:warning>
<db:para>Before using the connection, it must be initialized. e.g., call some or all of <db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>(), <db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>(), <db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>(), <db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>(), <db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>(), and <db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>(), and, finally, <db:link xlink:href="qsqldatabase.xml#open">open</db:link>().</db:para>
<db:note>
<db:para>This function is <db:link xlink:href="threads-reentrancy.xml">thread-safe</db:link>.</db:para>
</db:note>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#database">database</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#removeDatabase">removeDatabase</db:link>()</db:member>
<db:member><db:link xlink:href="threads-modules.xml#threads-and-the-sql-module">Threads and the SQL Module</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="cloneDatabase">
<db:title>[static] QSqlDatabase QSqlDatabase::cloneDatabase(const QSqlDatabase &amp;<db:emphasis>other</db:emphasis>, const QString &amp;<db:emphasis>connectionName</db:emphasis>)</db:title>
<db:para>Clones the database connection <db:code role="parameter">other</db:code> and stores it as <db:code role="parameter">connectionName</db:code>. All the settings from the original database, e.g. <db:link xlink:href="qsqldatabase.xml#databaseName">databaseName</db:link>(), <db:link xlink:href="qsqldatabase.xml#hostName">hostName</db:link>(), etc., are copied across. Does nothing if <db:code role="parameter">other</db:code> is an invalid database. Returns the newly created database connection.</db:para>
<db:note>
<db:para>The new connection has not been opened. Before using the new connection, you must call <db:link xlink:href="qsqldatabase.xml#open">open</db:link>().</db:para>
</db:note>
</db:section>
<db:section xml:id="close">
<db:title>void QSqlDatabase::close()</db:title>
<db:para>Closes the database connection, freeing any resources acquired, and invalidating any existing <db:link xlink:href="qsqlquery.xml">QSqlQuery</db:link> objects that are used with the database.</db:para>
<db:para>This will also affect copies of this <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> object.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#removeDatabase">removeDatabase</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="commit">
<db:title>bool QSqlDatabase::commit()</db:title>
<db:para>Commits a transaction to the database if the driver supports transactions and a <db:link xlink:href="qsqldatabase.xml#transaction">transaction</db:link>() has been started. Returns <db:code>true</db:code> if the operation succeeded. Otherwise it returns <db:code>false</db:code>.</db:para>
<db:note>
<db:para>For some databases, the commit will fail and return <db:code>false</db:code> if there is an <db:link xlink:href="qsqlquery.xml#isActive">active query</db:link> using the database for a <db:code>SELECT</db:code>. Make the query <db:link xlink:href="qsqlquery.xml#isActive">inactive</db:link> before doing the commit.</db:para>
</db:note>
<db:para>Call <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>() to get information about errors.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqlquery.xml#isActive">QSqlQuery::isActive</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldriver.xml#hasFeature">QSqlDriver::hasFeature</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#rollback">rollback</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="connectOptions">
<db:title>QString QSqlDatabase::connectOptions() const</db:title>
<db:para>Returns the connection options string used for this connection. The string may be empty.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="connectionName">
<db:title>[since 4.4] QString QSqlDatabase::connectionName() const</db:title>
<db:para>Returns the connection name, which may be empty.</db:para>
<db:note>
<db:para>The connection name is not the <db:link xlink:href="qsqldatabase.xml#databaseName">database name</db:link>.</db:para>
</db:note>
<db:para>This function was introduced in Qt 4.4.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="connectionNames">
<db:title>[static] QStringList QSqlDatabase::connectionNames()</db:title>
<db:para>Returns a list containing the names of all connections.</db:para>
<db:note>
<db:para>This function is <db:link xlink:href="threads-reentrancy.xml">thread-safe</db:link>.</db:para>
</db:note>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#contains">contains</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#database">database</db:link>()</db:member>
<db:member><db:link xlink:href="threads-modules.xml#threads-and-the-sql-module">Threads and the SQL Module</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="contains">
<db:title>[static] bool QSqlDatabase::contains(const QString &amp;<db:emphasis>connectionName</db:emphasis> = QLatin1String(defaultConnection))</db:title>
<db:para>Returns <db:code>true</db:code> if the list of database connections contains <db:code role="parameter">connectionName</db:code>; otherwise returns <db:code>false</db:code>.</db:para>
<db:note>
<db:para>This function is <db:link xlink:href="threads-reentrancy.xml">thread-safe</db:link>.</db:para>
</db:note>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#connectionNames">connectionNames</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#database">database</db:link>()</db:member>
<db:member><db:link xlink:href="threads-modules.xml#threads-and-the-sql-module">Threads and the SQL Module</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="database">
<db:title>[static] QSqlDatabase QSqlDatabase::database(const QString &amp;<db:emphasis>connectionName</db:emphasis> = QLatin1String(defaultConnection), bool <db:emphasis>open</db:emphasis> = true)</db:title>
<db:para>Returns the database connection called <db:code role="parameter">connectionName</db:code>. The database connection must have been previously added with <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>(). If <db:code role="parameter">open</db:code> is true (the default) and the database connection is not already open it is opened now. If no <db:code role="parameter">connectionName</db:code> is specified the default connection is used. If <db:code role="parameter">connectionName</db:code> does not exist in the list of databases, an invalid connection is returned.</db:para>
<db:note>
<db:para>This function is <db:link xlink:href="threads-reentrancy.xml">thread-safe</db:link>.</db:para>
</db:note>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#isOpen">isOpen</db:link>()</db:member>
<db:member><db:link xlink:href="threads-modules.xml#threads-and-the-sql-module">Threads and the SQL Module</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="databaseName">
<db:title>QString QSqlDatabase::databaseName() const</db:title>
<db:para>Returns the connection's database name, which may be empty.</db:para>
<db:note>
<db:para>The database name is not the connection name.</db:para>
</db:note>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="driver">
<db:title>QSqlDriver *QSqlDatabase::driver() const</db:title>
<db:para>Returns the database driver used to access the database connection.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#drivers">drivers</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="driverName">
<db:title>QString QSqlDatabase::driverName() const</db:title>
<db:para>Returns the connection's driver name.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#driver">driver</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="drivers">
<db:title>[static] QStringList QSqlDatabase::drivers()</db:title>
<db:para>Returns a list of all the available database drivers.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#registerSqlDriver">registerSqlDriver</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="exec">
<db:title>QSqlQuery QSqlDatabase::exec(const QString &amp;<db:emphasis>query</db:emphasis> = QString()) const</db:title>
<db:para>Executes a SQL statement on the database and returns a <db:link xlink:href="qsqlquery.xml">QSqlQuery</db:link> object. Use <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>() to retrieve error information. If <db:code role="parameter">query</db:code> is empty, an empty, invalid query is returned and <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>() is not affected.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqlquery.xml">QSqlQuery</db:link></db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="hostName">
<db:title>QString QSqlDatabase::hostName() const</db:title>
<db:para>Returns the connection's host name; it may be empty.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="isDriverAvailable">
<db:title>[static] bool QSqlDatabase::isDriverAvailable(const QString &amp;<db:emphasis>name</db:emphasis>)</db:title>
<db:para>Returns <db:code>true</db:code> if a driver called <db:code role="parameter">name</db:code> is available; otherwise returns <db:code>false</db:code>.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#drivers">drivers</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="isOpen">
<db:title>bool QSqlDatabase::isOpen() const</db:title>
<db:para>Returns <db:code>true</db:code> if the database connection is currently open; otherwise returns <db:code>false</db:code>.</db:para>
</db:section>
<db:section xml:id="isOpenError">
<db:title>bool QSqlDatabase::isOpenError() const</db:title>
<db:para>Returns <db:code>true</db:code> if there was an error opening the database connection; otherwise returns <db:code>false</db:code>. Error information can be retrieved using the <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>() function.</db:para>
</db:section>
<db:section xml:id="isValid">
<db:title>bool QSqlDatabase::isValid() const</db:title>
<db:para>Returns <db:code>true</db:code> if the <db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> has a valid driver.</db:para>
<db:para>Example:</db:para>
<db:programlisting language="cpp">QSqlDatabase db;
qDebug() &lt;&lt; db.isValid();    // Returns false

db = QSqlDatabase::database(&quot;sales&quot;);
qDebug() &lt;&lt; db.isValid();    // Returns \c true if &quot;sales&quot; connection exists

QSqlDatabase::removeDatabase(&quot;sales&quot;);
qDebug() &lt;&lt; db.isValid();    // Returns false
</db:programlisting>
</db:section>
<db:section xml:id="lastError">
<db:title>QSqlError QSqlDatabase::lastError() const</db:title>
<db:para>Returns information about the last error that occurred on the database.</db:para>
<db:para>Failures that occur in conjunction with an individual query are reported by <db:link xlink:href="qsqlquery.xml#lastError">QSqlQuery::lastError</db:link>().</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqlerror.xml">QSqlError</db:link></db:member>
<db:member><db:link xlink:href="qsqlquery.xml#lastError">QSqlQuery::lastError</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="numericalPrecisionPolicy">
<db:title>[since 4.6] QSql::NumericalPrecisionPolicy QSqlDatabase::numericalPrecisionPolicy() const</db:title>
<db:para>Returns the current default precision policy for the database connection.</db:para>
<db:para>This function was introduced in Qt 4.6.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsql.xml#NumericalPrecisionPolicy-enum">QSql::NumericalPrecisionPolicy</db:link></db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setNumericalPrecisionPolicy">setNumericalPrecisionPolicy</db:link>()</db:member>
<db:member><db:link xlink:href="qsqlquery.xml#numericalPrecisionPolicy">QSqlQuery::numericalPrecisionPolicy</db:link>()</db:member>
<db:member><db:link xlink:href="qsqlquery.xml#setNumericalPrecisionPolicy">QSqlQuery::setNumericalPrecisionPolicy</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="open">
<db:title>bool QSqlDatabase::open()</db:title>
<db:para>Opens the database connection using the current connection values. Returns <db:code>true</db:code> on success; otherwise returns <db:code>false</db:code>. Error information can be retrieved using <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>().</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="open-1">
<db:title>bool QSqlDatabase::open(const QString &amp;<db:emphasis>user</db:emphasis>, const QString &amp;<db:emphasis>password</db:emphasis>)</db:title>
<db:para>This is an overloaded function.</db:para>
<db:para>Opens the database connection using the given <db:code role="parameter">user</db:code> name and <db:code role="parameter">password</db:code>. Returns <db:code>true</db:code> on success; otherwise returns <db:code>false</db:code>. Error information can be retrieved using the <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>() function.</db:para>
<db:para>This function does not store the password it is given. Instead, the password is passed directly to the driver for opening the connection and it is then discarded.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="password">
<db:title>QString QSqlDatabase::password() const</db:title>
<db:para>Returns the connection's password. If the password was not set with <db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>(), and if the password was given in the <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() call, or if no password was used, an empty string is returned.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="port">
<db:title>int QSqlDatabase::port() const</db:title>
<db:para>Returns the connection's port number. The value is undefined if the port number has not been set.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="primaryIndex">
<db:title>QSqlIndex QSqlDatabase::primaryIndex(const QString &amp;<db:emphasis>tablename</db:emphasis>) const</db:title>
<db:para>Returns the primary index for table <db:code role="parameter">tablename</db:code>. If no primary index exists an empty <db:link xlink:href="qsqlindex.xml">QSqlIndex</db:link> is returned.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#tables">tables</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#record">record</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="record">
<db:title>QSqlRecord QSqlDatabase::record(const QString &amp;<db:emphasis>tablename</db:emphasis>) const</db:title>
<db:para>Returns a <db:link xlink:href="qsqlrecord.xml">QSqlRecord</db:link> populated with the names of all the fields in the table (or view) called <db:code role="parameter">tablename</db:code>. The order in which the fields appear in the record is undefined. If no such table (or view) exists, an empty record is returned.</db:para>
</db:section>
<db:section xml:id="registerSqlDriver">
<db:title>[static] void QSqlDatabase::registerSqlDriver(const QString &amp;<db:emphasis>name</db:emphasis>, QSqlDriverCreatorBase *<db:emphasis>creator</db:emphasis>)</db:title>
<db:para>This function registers a new SQL driver called <db:code role="parameter">name</db:code>, within the SQL framework. This is useful if you have a custom SQL driver and don't want to compile it as a plugin.</db:para>
<db:para>Example:</db:para>
<db:programlisting language="cpp">QSqlDatabase::registerSqlDriver(&quot;MYDRIVER&quot;,
                                new QSqlDriverCreator&lt;MyDatabaseDriver&gt;);
QSqlDatabase db = QSqlDatabase::addDatabase(&quot;MYDRIVER&quot;);
</db:programlisting>
<db:para><db:link xlink:href="qsqldatabase.xml">QSqlDatabase</db:link> takes ownership of the <db:code role="parameter">creator</db:code> pointer, so you mustn't delete it yourself.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#drivers">drivers</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="removeDatabase">
<db:title>[static] void QSqlDatabase::removeDatabase(const QString &amp;<db:emphasis>connectionName</db:emphasis>)</db:title>
<db:para>Removes the database connection <db:code role="parameter">connectionName</db:code> from the list of database connections.</db:para>
<db:warning>
<db:para>There should be no open queries on the database connection when this function is called, otherwise a resource leak will occur.</db:para>
</db:warning>
<db:para>Example:</db:para>
<db:programlisting language="cpp">// WRONG
QSqlDatabase db = QSqlDatabase::database(&quot;sales&quot;);
QSqlQuery query(&quot;SELECT NAME, DOB FROM EMPLOYEES&quot;, db);
QSqlDatabase::removeDatabase(&quot;sales&quot;); // will output a warning

// &quot;db&quot; is now a dangling invalid database connection,
// &quot;query&quot; contains an invalid result set
</db:programlisting>
<db:para>The correct way to do it:</db:para>
<db:programlisting language="cpp">{
    QSqlDatabase db = QSqlDatabase::database(&quot;sales&quot;);
    QSqlQuery query(&quot;SELECT NAME, DOB FROM EMPLOYEES&quot;, db);
}
// Both &quot;db&quot; and &quot;query&quot; are destroyed because they are out of scope
QSqlDatabase::removeDatabase(&quot;sales&quot;); // correct
</db:programlisting>
<db:para>To remove the default connection, which may have been created with a call to <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>() not specifying a connection name, you can retrieve the default connection name by calling <db:link xlink:href="qsqldatabase.xml#connectionName">connectionName</db:link>() on the database returned by <db:link xlink:href="qsqldatabase.xml#database">database</db:link>(). Note that if a default database hasn't been created an invalid database will be returned.</db:para>
<db:note>
<db:para>This function is <db:link xlink:href="threads-reentrancy.xml">thread-safe</db:link>.</db:para>
</db:note>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#database">database</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#connectionName">connectionName</db:link>()</db:member>
<db:member><db:link xlink:href="threads-modules.xml#threads-and-the-sql-module">Threads and the SQL Module</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="rollback">
<db:title>bool QSqlDatabase::rollback()</db:title>
<db:para>Rolls back a transaction on the database, if the driver supports transactions and a <db:link xlink:href="qsqldatabase.xml#transaction">transaction</db:link>() has been started. Returns <db:code>true</db:code> if the operation succeeded. Otherwise it returns <db:code>false</db:code>.</db:para>
<db:note>
<db:para>For some databases, the rollback will fail and return <db:code>false</db:code> if there is an <db:link xlink:href="qsqlquery.xml#isActive">active query</db:link> using the database for a <db:code>SELECT</db:code>. Make the query <db:link xlink:href="qsqlquery.xml#isActive">inactive</db:link> before doing the rollback.</db:para>
</db:note>
<db:para>Call <db:link xlink:href="qsqldatabase.xml#lastError">lastError</db:link>() to get information about errors.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqlquery.xml#isActive">QSqlQuery::isActive</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldriver.xml#hasFeature">QSqlDriver::hasFeature</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#commit">commit</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setConnectOptions">
<db:title>void QSqlDatabase::setConnectOptions(const QString &amp;<db:emphasis>options</db:emphasis> = QString())</db:title>
<db:para>Sets database-specific <db:code role="parameter">options</db:code>. This must be done before the connection is opened or it has no effect (or you can <db:link xlink:href="qsqldatabase.xml#close">close</db:link>() the connection, call this function and <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() the connection again).</db:para>
<db:para>The format of the <db:code role="parameter">options</db:code> string is a semicolon separated list of option names or option=value pairs. The options depend on the database client used:</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>ODBC</db:para>
</db:th>
<db:th>
<db:para>MySQL</db:para>
</db:th>
<db:th>
<db:para>PostgreSQL</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:itemizedlist>
<db:listitem>
<db:para>SQL_ATTR_ACCESS_MODE</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_LOGIN_TIMEOUT</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_CONNECTION_TIMEOUT</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_CURRENT_CATALOG</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_METADATA_ID</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_PACKET_SIZE</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_TRACEFILE</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_TRACE</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_CONNECTION_POOLING</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_ODBC_VERSION</db:para>
</db:listitem>
</db:itemizedlist>
</db:td>
<db:td>
<db:itemizedlist>
<db:listitem>
<db:para>CLIENT_COMPRESS</db:para>
</db:listitem>
<db:listitem>
<db:para>CLIENT_FOUND_ROWS</db:para>
</db:listitem>
<db:listitem>
<db:para>CLIENT_IGNORE_SPACE</db:para>
</db:listitem>
<db:listitem>
<db:para>CLIENT_ODBC</db:para>
</db:listitem>
<db:listitem>
<db:para>CLIENT_NO_SCHEMA</db:para>
</db:listitem>
<db:listitem>
<db:para>CLIENT_INTERACTIVE</db:para>
</db:listitem>
<db:listitem>
<db:para>UNIX_SOCKET</db:para>
</db:listitem>
<db:listitem>
<db:para>MYSQL_OPT_RECONNECT</db:para>
</db:listitem>
<db:listitem>
<db:para>MYSQL_OPT_CONNECT_TIMEOUT</db:para>
</db:listitem>
<db:listitem>
<db:para>MYSQL_OPT_READ_TIMEOUT</db:para>
</db:listitem>
<db:listitem>
<db:para>MYSQL_OPT_WRITE_TIMEOUT</db:para>
</db:listitem>
<db:listitem>
<db:para>SSL_KEY</db:para>
</db:listitem>
<db:listitem>
<db:para>SSL_CERT</db:para>
</db:listitem>
<db:listitem>
<db:para>SSL_CA</db:para>
</db:listitem>
<db:listitem>
<db:para>SSL_CAPATH</db:para>
</db:listitem>
<db:listitem>
<db:para>SSL_CIPHER</db:para>
</db:listitem>
</db:itemizedlist>
</db:td>
<db:td>
<db:itemizedlist>
<db:listitem>
<db:para>connect_timeout</db:para>
</db:listitem>
<db:listitem>
<db:para>options</db:para>
</db:listitem>
<db:listitem>
<db:para>tty</db:para>
</db:listitem>
<db:listitem>
<db:para>requiressl</db:para>
</db:listitem>
<db:listitem>
<db:para>service</db:para>
</db:listitem>
</db:itemizedlist>
</db:td>
</db:tr>
</db:informaltable>
<db:informaltable style="">
<db:thead>
<db:tr>
<db:th>
<db:para>DB2</db:para>
</db:th>
<db:th>
<db:para>OCI</db:para>
</db:th>
<db:th>
<db:para>TDS</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:itemizedlist>
<db:listitem>
<db:para>SQL_ATTR_ACCESS_MODE</db:para>
</db:listitem>
<db:listitem>
<db:para>SQL_ATTR_LOGIN_TIMEOUT</db:para>
</db:listitem>
</db:itemizedlist>
</db:td>
<db:td>
<db:itemizedlist>
<db:listitem>
<db:para>OCI_ATTR_PREFETCH_ROWS</db:para>
</db:listitem>
<db:listitem>
<db:para>OCI_ATTR_PREFETCH_MEMORY</db:para>
</db:listitem>
</db:itemizedlist>
</db:td>
<db:td>
<db:para><db:emphasis>none</db:emphasis></db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:informaltable style="">
<db:thead>
<db:tr>
<db:th>
<db:para>SQLite</db:para>
</db:th>
<db:th>
<db:para>Interbase</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:itemizedlist>
<db:listitem>
<db:para>QSQLITE_BUSY_TIMEOUT</db:para>
</db:listitem>
<db:listitem>
<db:para>QSQLITE_OPEN_READONLY</db:para>
</db:listitem>
<db:listitem>
<db:para>QSQLITE_OPEN_URI</db:para>
</db:listitem>
<db:listitem>
<db:para>QSQLITE_ENABLE_SHARED_CACHE</db:para>
</db:listitem>
</db:itemizedlist>
</db:td>
<db:td>
<db:itemizedlist>
<db:listitem>
<db:para>ISC_DPB_LC_CTYPE</db:para>
</db:listitem>
<db:listitem>
<db:para>ISC_DPB_SQL_ROLE_NAME</db:para>
</db:listitem>
</db:itemizedlist>
</db:td>
</db:tr>
</db:informaltable>
<db:para>Examples:</db:para>
<db:programlisting language="cpp">...
// MySQL connection
db.setConnectOptions(&quot;SSL_KEY=client-key.pem;SSL_CERT=client-cert.pem;SSL_CA=ca-cert.pem;CLIENT_IGNORE_SPACE=1&quot;); // use an SSL connection to the server
if (!db.open()) {
    db.setConnectOptions(); // clears the connect option string
    ...
}
...
// PostgreSQL connection
db.setConnectOptions(&quot;requiressl=1&quot;); // enable PostgreSQL SSL connections
if (!db.open()) {
    db.setConnectOptions(); // clear options
    ...
}
...
// ODBC connection
db.setConnectOptions(&quot;SQL_ATTR_ACCESS_MODE=SQL_MODE_READ_ONLY;SQL_ATTR_TRACE=SQL_OPT_TRACE_ON&quot;); // set ODBC options
if (!db.open()) {
    db.setConnectOptions(); // don't try to set this option
    ...
}
</db:programlisting>
<db:para>Refer to the client library documentation for more information about the different options.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#connectOptions">connectOptions</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setDatabaseName">
<db:title>void QSqlDatabase::setDatabaseName(const QString &amp;<db:emphasis>name</db:emphasis>)</db:title>
<db:para>Sets the connection's database name to <db:code role="parameter">name</db:code>. To have effect, the database name must be set <db:emphasis>before</db:emphasis> the connection is <db:link xlink:href="qsqldatabase.xml#open">opened</db:link>. Alternatively, you can <db:link xlink:href="qsqldatabase.xml#close">close</db:link>() the connection, set the database name, and call <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() again.</db:para>
<db:note>
<db:para>The <db:emphasis>database name</db:emphasis> is not the <db:emphasis>connection name</db:emphasis>. The connection name must be passed to <db:link xlink:href="qsqldatabase.xml#addDatabase">addDatabase</db:link>() at connection object create time.</db:para>
</db:note>
<db:para>For the QOCI (Oracle) driver, the database name is the TNS Service Name.</db:para>
<db:para>For the QODBC driver, the <db:code role="parameter">name</db:code> can either be a DSN, a DSN filename (in which case the file must have a <db:code>.dsn</db:code> extension), or a connection string.</db:para>
<db:para>For example, Microsoft Access users can use the following connection string to open an <db:code>.mdb</db:code> file directly, instead of having to create a DSN entry in the ODBC manager:</db:para>
<db:programlisting language="cpp">...
db = QSqlDatabase::addDatabase(&quot;QODBC&quot;);
db.setDatabaseName(&quot;DRIVER={Microsoft Access Driver (*.mdb)};FIL={MS Access};DBQ=myaccessfile.mdb&quot;);
if (db.open()) {
    // success!
}
...
</db:programlisting>
<db:para>There is no default value.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#databaseName">databaseName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#open">open</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setHostName">
<db:title>void QSqlDatabase::setHostName(const QString &amp;<db:emphasis>host</db:emphasis>)</db:title>
<db:para>Sets the connection's host name to <db:code role="parameter">host</db:code>. To have effect, the host name must be set <db:emphasis>before</db:emphasis> the connection is <db:link xlink:href="qsqldatabase.xml#open">opened</db:link>. Alternatively, you can <db:link xlink:href="qsqldatabase.xml#close">close</db:link>() the connection, set the host name, and call <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() again.</db:para>
<db:para>There is no default value.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#hostName">hostName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#open">open</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setNumericalPrecisionPolicy">
<db:title>[since 4.6] void QSqlDatabase::setNumericalPrecisionPolicy(QSql::NumericalPrecisionPolicy <db:emphasis>precisionPolicy</db:emphasis>)</db:title>
<db:para>Sets the default numerical precision policy used by queries created on this database connection to <db:code role="parameter">precisionPolicy</db:code>.</db:para>
<db:para>Note: Drivers that don't support fetching numerical values with low precision will ignore the precision policy. You can use <db:link xlink:href="qsqldriver.xml#hasFeature">QSqlDriver::hasFeature</db:link>() to find out whether a driver supports this feature.</db:para>
<db:para>Note: Setting the default precision policy to <db:code role="parameter">precisionPolicy</db:code> doesn't affect any currently active queries.</db:para>
<db:para>This function was introduced in Qt 4.6.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsql.xml#NumericalPrecisionPolicy-enum">QSql::NumericalPrecisionPolicy</db:link></db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#numericalPrecisionPolicy">numericalPrecisionPolicy</db:link>()</db:member>
<db:member><db:link xlink:href="qsqlquery.xml#setNumericalPrecisionPolicy">QSqlQuery::setNumericalPrecisionPolicy</db:link>()</db:member>
<db:member><db:link xlink:href="qsqlquery.xml#numericalPrecisionPolicy">QSqlQuery::numericalPrecisionPolicy</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setPassword">
<db:title>void QSqlDatabase::setPassword(const QString &amp;<db:emphasis>password</db:emphasis>)</db:title>
<db:para>Sets the connection's password to <db:code role="parameter">password</db:code>. To have effect, the password must be set <db:emphasis>before</db:emphasis> the connection is <db:link xlink:href="qsqldatabase.xml#open">opened</db:link>. Alternatively, you can <db:link xlink:href="qsqldatabase.xml#close">close</db:link>() the connection, set the password, and call <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() again.</db:para>
<db:para>There is no default value.</db:para>
<db:warning>
<db:para>This function stores the password in plain text within Qt. Use the <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() call that takes a password as parameter to avoid this behavior.</db:para>
</db:warning>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#password">password</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#open">open</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setPort">
<db:title>void QSqlDatabase::setPort(int <db:emphasis>port</db:emphasis>)</db:title>
<db:para>Sets the connection's port number to <db:code role="parameter">port</db:code>. To have effect, the port number must be set <db:emphasis>before</db:emphasis> the connection is <db:link xlink:href="qsqldatabase.xml#open">opened</db:link>. Alternatively, you can <db:link xlink:href="qsqldatabase.xml#close">close</db:link>() the connection, set the port number, and call <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() again..</db:para>
<db:para>There is no default value.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#port">port</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#open">open</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setUserName">
<db:title>void QSqlDatabase::setUserName(const QString &amp;<db:emphasis>name</db:emphasis>)</db:title>
<db:para>Sets the connection's user name to <db:code role="parameter">name</db:code>. To have effect, the user name must be set <db:emphasis>before</db:emphasis> the connection is <db:link xlink:href="qsqldatabase.xml#open">opened</db:link>. Alternatively, you can <db:link xlink:href="qsqldatabase.xml#close">close</db:link>() the connection, set the user name, and call <db:link xlink:href="qsqldatabase.xml#open">open</db:link>() again.</db:para>
<db:para>There is no default value.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#userName">userName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setDatabaseName">setDatabaseName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPassword">setPassword</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setHostName">setHostName</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setPort">setPort</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#setConnectOptions">setConnectOptions</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#open">open</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="tables">
<db:title>QStringList QSqlDatabase::tables(QSql::TableType <db:emphasis>type</db:emphasis> = QSql::Tables) const</db:title>
<db:para>Returns a list of the database's tables, system tables and views, as specified by the parameter <db:code role="parameter">type</db:code>.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#primaryIndex">primaryIndex</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#record">record</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="transaction">
<db:title>bool QSqlDatabase::transaction()</db:title>
<db:para>Begins a transaction on the database if the driver supports transactions. Returns <db:code>true</db:code> if the operation succeeded. Otherwise it returns <db:code>false</db:code>.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldriver.xml#hasFeature">QSqlDriver::hasFeature</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#commit">commit</db:link>()</db:member>
<db:member><db:link xlink:href="qsqldatabase.xml#rollback">rollback</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="userName">
<db:title>QString QSqlDatabase::userName() const</db:title>
<db:para>Returns the connection's user name; it may be empty.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qsqldatabase.xml#setUserName">setUserName</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="operator-eq">
<db:title>QSqlDatabase &amp;QSqlDatabase::operator=(const QSqlDatabase &amp;<db:emphasis>other</db:emphasis>)</db:title>
<db:para>Assigns <db:code role="parameter">other</db:code> to this object.</db:para>
</db:section>
</db:section>
</db:article>
