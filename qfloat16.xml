<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>qfloat16 Class</db:title>
<db:productname>QtCore</db:productname>
<db:edition>Qt 6.8.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Core Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Provides 16-bit floating point support.</db:para>
<db:para>This class is <db:emphasis>partially comparable</db:emphasis>.</db:para>
<db:para>This class is <db:emphasis role="bold">partially comparable</db:emphasis> with float, double, long double, <db:link xlink:href="qttypes.xml#qint8-typedef">qint8</db:link>, <db:link xlink:href="qttypes.xml#quint8-typedef">quint8</db:link>, <db:link xlink:href="qttypes.xml#qint16-typedef">qint16</db:link>, <db:link xlink:href="qttypes.xml#quint16-typedef">quint16</db:link>, <db:link xlink:href="qttypes.xml#qint32-typedef">qint32</db:link>, <db:link xlink:href="qttypes.xml#quint32-typedef">quint32</db:link>, long, unsigned long, <db:link xlink:href="qttypes.xml#qint64-typedef">qint64</db:link>, and <db:link xlink:href="qttypes.xml#quint64-typedef">quint64</db:link>.</db:para>
<db:para>This class is <db:emphasis role="bold">partially comparable</db:emphasis> with <db:link xlink:href="qttypes.xml#qint128-typedef">qint128</db:link> and <db:link xlink:href="qttypes.xml#quint128-typedef">quint128</db:link>.</db:para>
<db:para>Comparison with 128-bit integral types is only supported if Qt provides these types.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Header</db:term>
<db:listitem>
<db:para>QFloat16</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>CMake</db:term>
<db:listitem>
<db:para>find_package(Qt6 REQUIRED COMPONENTS Core)</db:para>
<db:para>target_link_libraries(mytarget PRIVATE Qt6::Core)</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>qmake</db:term>
<db:listitem>
<db:para>QT += core</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Group</db:term>
<db:listitem>
<db:para>qfloat16 is part of <db:simplelist><db:member>funclists</db:member></db:simplelist>
</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:para>The qfloat16 class provides support for half-precision (16-bit) floating point data. It is fully compliant with IEEE 754 as a storage type. This implies that any arithmetic operation on a qfloat16 instance results in the value first being converted to a float. This conversion to and from float is performed by hardware when possible, but on processors that do not natively support half-precision, the conversion is performed through a sequence of lookup table operations.</db:para>
<db:para>qfloat16 should be treated as if it were a POD (plain old data) type. Consequently, none of the supported operations need any elaboration beyond stating that it supports all arithmetic operators incident to floating point types.</db:para>
<db:note>
<db:para>On x86 and x86-64 that to get hardware accelerated conversions you must compile with F16C or AVX2 enabled, or use <db:link xlink:href="qfloat16.xml#qFloatToFloat16">qFloatToFloat16</db:link>() and <db:link xlink:href="qfloat16.xml#qFloatFromFloat16">qFloatFromFloat16</db:link>() which will detect F16C at runtime.</db:para>
</db:note>
</db:section>
<db:section xml:id="member-function-documentation">
<db:title>Member Function Documentation</db:title>
<db:section xml:id="qfloat16">
<db:title>[explicit noexcept, since 6.1] qfloat16::qfloat16(<db:emphasis>Qt::Initialization</db:emphasis>)</db:title>
<db:para>Constructs a qfloat16 without initializing the value.</db:para>
<db:para>This function was introduced in Qt 6.1.</db:para>
</db:section>
<db:section xml:id="copySign">
<db:title>[noexcept] qfloat16 qfloat16::copySign(qfloat16 <db:emphasis>sign</db:emphasis>) const</db:title>
<db:para>Returns a qfloat16 with the sign of <db:code role="parameter">sign</db:code> but the rest of its value taken from this qfloat16. Serves as qfloat16's equivalent of std::copysign().</db:para>
</db:section>
<db:section xml:id="isNormal">
<db:title>[constexpr noexcept] bool qfloat16::isNormal() const</db:title>
<db:para>Returns true if this qfloat16 value is finite and in normal form.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qfloat16.xml#qFpClassify-2">qFpClassify</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
</db:section>
<db:section xml:id="related-non-members">
<db:title>Related Non-Members</db:title>
<db:section xml:id="qFloatFromFloat16">
<db:title>[noexcept] void qFloatFromFloat16(float *<db:emphasis>out</db:emphasis>, const qfloat16 *<db:emphasis>in</db:emphasis>, qsizetype <db:emphasis>len</db:emphasis>)</db:title>
<db:para>Converts <db:code role="parameter">len</db:code> qfloat16 from <db:code role="parameter">in</db:code> to floats and stores them in <db:code role="parameter">out</db:code>. Both <db:code role="parameter">in</db:code> and <db:code role="parameter">out</db:code> must have <db:code role="parameter">len</db:code> allocated entries.</db:para>
<db:para>This function is faster than converting values one by one, and will do runtime F16C detection on x86 and x86-64 hardware.</db:para>
</db:section>
<db:section xml:id="qFloatToFloat16">
<db:title>[noexcept] void qFloatToFloat16(qfloat16 *<db:emphasis>out</db:emphasis>, const float *<db:emphasis>in</db:emphasis>, qsizetype <db:emphasis>len</db:emphasis>)</db:title>
<db:para>Converts <db:code role="parameter">len</db:code> floats from <db:code role="parameter">in</db:code> to qfloat16 and stores them in <db:code role="parameter">out</db:code>. Both <db:code role="parameter">in</db:code> and <db:code role="parameter">out</db:code> must have <db:code role="parameter">len</db:code> allocated entries.</db:para>
<db:para>This function is faster than converting values one by one, and will do runtime F16C detection on x86 and x86-64 hardware.</db:para>
</db:section>
<db:section xml:id="qFpClassify-2">
<db:title>[noexcept] int qFpClassify(qfloat16 <db:emphasis>val</db:emphasis>)</db:title>
<db:para>This function overloads <db:link xlink:href="qtnumeric.xml#qFpClassify-1">qFpClassify</db:link>(float).</db:para>
<db:para>Returns the floating-point class of <db:code role="parameter">val</db:code>.</db:para>
</db:section>
<db:section xml:id="qFuzzyCompare-2">
<db:title>[noexcept] bool qFuzzyCompare(qfloat16 <db:emphasis>p1</db:emphasis>, qfloat16 <db:emphasis>p2</db:emphasis>)</db:title>
<db:para>This function overloads <db:link xlink:href="qtnumeric.xml#qFuzzyCompare-1">qFuzzyCompare</db:link>(float, float).</db:para>
<db:para>Compares the floating point value <db:code role="parameter">p1</db:code> and <db:code role="parameter">p2</db:code> and returns true if they are considered equal, otherwise false.</db:para>
<db:para>The two numbers are compared in a relative way, where the exactness is stronger the smaller the numbers are.</db:para>
</db:section>
<db:section xml:id="qHash">
<db:title>[noexcept, since 6.5.3] size_t qHash(qfloat16 <db:emphasis>key</db:emphasis>, size_t <db:emphasis>seed</db:emphasis> = 0)</db:title>
<db:para>Returns the hash value for <db:code role="parameter">key</db:code>, using <db:code role="parameter">seed</db:code> to seed the calculation.</db:para>
<db:note>
<db:para>In Qt versions before 6.5, this operation was provided by the <db:link xlink:href="qhash.xml#the-hashing-function">qHash</db:link>(float) overload. In Qt versions 6.5.0 to 6.5.2, this functionality was broken in various ways. In Qt versions 6.5.3 and 6.6 onwards, this overload restores the Qt 6.4 behavior.</db:para>
</db:note>
<db:para>This function was introduced in Qt 6.5.3.</db:para>
</db:section>
<db:section xml:id="qIsFinite-3">
<db:title>[noexcept] bool qIsFinite(qfloat16 <db:emphasis>f</db:emphasis>)</db:title>
<db:para>This function overloads <db:link xlink:href="qtnumeric.xml#qIsFinite-1">qIsFinite</db:link>(float).</db:para>
<db:para>Returns true if the qfloat16 <db:code role="parameter">f</db:code> is a finite number.</db:para>
</db:section>
<db:section xml:id="qIsInf-3">
<db:title>[noexcept] bool qIsInf(qfloat16 <db:emphasis>f</db:emphasis>)</db:title>
<db:para>This function overloads <db:link xlink:href="qtnumeric.xml#qIsInf-1">qIsInf</db:link>(float).</db:para>
<db:para>Returns true if the qfloat16 <db:code role="parameter">f</db:code> is equivalent to infinity.</db:para>
</db:section>
<db:section xml:id="qIsNaN-3">
<db:title>[noexcept] bool qIsNaN(qfloat16 <db:emphasis>f</db:emphasis>)</db:title>
<db:para>This function overloads <db:link xlink:href="qtnumeric.xml#qIsNaN-1">qIsNaN</db:link>(float).</db:para>
<db:para>Returns true if the qfloat16 <db:code role="parameter">f</db:code> is not a number (NaN).</db:para>
</db:section>
<db:section xml:id="qRound64-2">
<db:title>[noexcept] qint64 qRound64(qfloat16 <db:emphasis>value</db:emphasis>)</db:title>
<db:para>This function overloads <db:link xlink:href="qtnumeric.xml#qRound64-1">qRound64</db:link>(float).</db:para>
<db:para>Rounds <db:code role="parameter">value</db:code> to the nearest 64-bit integer.</db:para>
</db:section>
<db:section xml:id="qRound-2">
<db:title>[noexcept] int qRound(qfloat16 <db:emphasis>value</db:emphasis>)</db:title>
<db:para>This function overloads <db:link xlink:href="qtnumeric.xml#qRound-1">qRound</db:link>(float).</db:para>
<db:para>Rounds <db:code role="parameter">value</db:code> to the nearest integer.</db:para>
</db:section>
<db:section xml:id="operator-lt-lt">
<db:title>QDataStream &amp;operator&lt;&lt;(QDataStream &amp;<db:emphasis>ds</db:emphasis>, qfloat16 <db:emphasis>f</db:emphasis>)</db:title>
<db:para>Writes a floating point number, <db:code role="parameter">f</db:code>, to the stream <db:code role="parameter">ds</db:code> using the standard IEEE 754 format. Returns a reference to the stream.</db:para>
<db:note>
<db:para>In Qt versions prior to 6.3, this was a member function on <db:link xlink:href="qdatastream.xml">QDataStream</db:link>.</db:para>
</db:note>
</db:section>
<db:section xml:id="operator-gt-gt">
<db:title>QDataStream &amp;operator&gt;&gt;(QDataStream &amp;<db:emphasis>ds</db:emphasis>, qfloat16 &amp;<db:emphasis>f</db:emphasis>)</db:title>
<db:para>Reads a floating point number from the stream <db:code role="parameter">ds</db:code> into <db:code role="parameter">f</db:code>, using the standard IEEE 754 format. Returns a reference to the stream.</db:para>
<db:note>
<db:para>In Qt versions prior to 6.3, this was a member function on <db:link xlink:href="qdatastream.xml">QDataStream</db:link>.</db:para>
</db:note>
</db:section>
</db:section>
</db:article>
