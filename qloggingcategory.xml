<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en_US">
<db:info>
<db:title>QLoggingCategory Class</db:title>
<db:productname>QtCore</db:productname>
<db:edition>Qt 5.2.1 Reference Documentation</db:edition>
<db:titleabbrev>Qt Core Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>The <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> class represents a category, or 'area' in the logging infrastructure.</db:para>
<db:para>This class was introduced in Qt 5.2.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Header</db:term>
<db:listitem>
<db:para>QLoggingCategory</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Since</db:term>
<db:listitem>
<db:para>Qt 5.2</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>qmake</db:term>
<db:listitem>
<db:para>QT += core</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:para><db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> represents a certain logging category - identified by a string - at runtime. Whether a category should be actually logged or not can be checked with the <db:link xlink:href="qloggingcategory.xml#isEnabled">isEnabled</db:link>() methods.</db:para>
<db:section xml:id="creating-category-objects">
<db:title>Creating category objects</db:title>
<db:para>The <db:link xlink:href="qloggingcategory.xml#Q_LOGGING_CATEGORY">Q_LOGGING_CATEGORY</db:link>() and the <db:link xlink:href="qloggingcategory.xml#Q_DECLARE_LOGGING_CATEGORY">Q_DECLARE_LOGGING_CATEGORY</db:link>() macros conveniently declare and create <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> objects:</db:para>
<db:programlisting language="cpp">// in a header
Q_DECLARE_LOGGING_CATEGORY(QT_DRIVER_USB)

// in one source file
Q_LOGGING_CATEGORY(QT_DRIVER_USB, &quot;qt.driver.usb&quot;)
</db:programlisting>
</db:section>
<db:section xml:id="checking-category-configuration">
<db:title>Checking category configuration</db:title>
<db:para><db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> provides <db:link xlink:href="qloggingcategory.xml#isDebugEnabled">isDebugEnabled</db:link>(), <db:link xlink:href="qloggingcategory.xml#isWarningEnabled">isWarningEnabled</db:link>(), <db:link xlink:href="qloggingcategory.xml#isCriticalEnabled">isCriticalEnabled</db:link>(), <db:link xlink:href="">isTraceEnabled()</db:link>, as well as <db:link xlink:href="qloggingcategory.xml#isEnabled">isEnabled</db:link>() to check whether messages for the given message type should be logged.</db:para>
<db:note>
<db:para>The <db:link xlink:href="qloggingcategory.xml#qCDebug">qCDebug</db:link>(), <db:link xlink:href="qloggingcategory.xml#qCWarning">qCWarning</db:link>(), <db:link xlink:href="qloggingcategory.xml#qCCritical">qCCritical</db:link>() macros prevent arguments from being evaluated if the respective message types are not enabled for the category, so explicit checking is not needed:</db:para>
</db:note>
<db:programlisting language="cpp">    // usbEntries() will only be called if QT_DRIVER_USB category is enabled
    qCDebug(QT_DRIVER_USB) &lt;&lt; &quot;devices: &quot; &lt;&lt; usbEntries();
</db:programlisting>
</db:section>
<db:section xml:id="default-category-configuration">
<db:title>Default category configuration</db:title>
<db:para>In the default configuration <db:link xlink:href="qloggingcategory.xml#isWarningEnabled">isWarningEnabled</db:link>() and <db:link xlink:href="qloggingcategory.xml#isCriticalEnabled">isCriticalEnabled</db:link>() will return <db:code>true</db:code>. <db:link xlink:href="qloggingcategory.xml#isDebugEnabled">isDebugEnabled</db:link>() will return <db:code>true</db:code> only for the <db:code>&quot;default&quot;</db:code> category.</db:para>
</db:section>
<db:section xml:id="changing-the-configuration-of-a-category">
<db:title>Changing the configuration of a category</db:title>
<db:para>Use either <db:link xlink:href="qloggingcategory.xml#setFilterRules">setFilterRules</db:link>() or <db:link xlink:href="qloggingcategory.xml#installFilter">installFilter</db:link>() to configure categories, for example</db:para>
<db:programlisting language="cpp">    QLoggingCategory::setFilterRules(QStringLiteral(&quot;qt.driver.usb.debug=true&quot;));
</db:programlisting>
</db:section>
<db:section xml:id="printing-the-category">
<db:title>Printing the category</db:title>
<db:para>Use the <db:code>%{category}</db:code> place holder to print the category in the default message handler:</db:para>
<db:programlisting language="cpp">    qSetMessagePattern(&quot;%{category} %{message}&quot;);
</db:programlisting>
</db:section>
</db:section>
<db:section xml:id="member-type-documentation">
<db:title>Member Type Documentation</db:title>
<db:section xml:id="CategoryFilter-typedef">
<db:title>QLoggingCategory::CategoryFilter</db:title>
<db:para>This is a typedef for a pointer to a function with the following signature:</db:para>
<db:programlisting language="cpp">void myCategoryFilter(QLoggingCategory *);
</db:programlisting>
<db:para>A function with this signature can be installed with <db:link xlink:href="qloggingcategory.xml#installFilter">installFilter</db:link>().</db:para>
</db:section>
</db:section>
<db:section xml:id="member-function-documentation">
<db:title>Member Function Documentation</db:title>
<db:section xml:id="QLoggingCategory">
<db:title>[explicit] QLoggingCategory::QLoggingCategory(const char *<db:emphasis>category</db:emphasis>)</db:title>
<db:para>Constructs a <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> object with the provided <db:code role="parameter">category</db:code> name. The object becomes the local identifier for the category.</db:para>
<db:para>If <db:code role="parameter">category</db:code> is <db:code>0</db:code>, the category name is changed to <db:code>&quot;default&quot;</db:code>.</db:para>
</db:section>
<db:section xml:id="dtor.QLoggingCategory">
<db:title>[noexcept] QLoggingCategory::~QLoggingCategory()</db:title>
<db:para>Destructs a <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> object.</db:para>
</db:section>
<db:section xml:id="categoryName">
<db:title>const char *QLoggingCategory::categoryName() const</db:title>
<db:para>Returns the name of the category.</db:para>
</db:section>
<db:section xml:id="defaultCategory">
<db:title>[static] QLoggingCategory *QLoggingCategory::defaultCategory()</db:title>
<db:para>Returns a pointer to the global category <db:code>&quot;default&quot;</db:code> that is used e.g. by <db:link xlink:href="qtglobal.xml#qDebug">qDebug</db:link>(), <db:link xlink:href="qtglobal.xml#qWarning">qWarning</db:link>(), <db:link xlink:href="qtglobal.xml#qCritical">qCritical</db:link>(), <db:link xlink:href="qtglobal.xml#qFatal">qFatal</db:link>().</db:para>
<db:note>
<db:para>The returned pointer may be null during destruction of static objects.</db:para>
</db:note>
<db:note>
<db:para>Ownership of the category is not transferred, do not <db:code>delete</db:code> the returned pointer.</db:para>
</db:note>
</db:section>
<db:section xml:id="installFilter">
<db:title>[static] QLoggingCategory::CategoryFilter QLoggingCategory::installFilter(QLoggingCategory::CategoryFilter <db:emphasis>filter</db:emphasis>)</db:title>
<db:para>Installs a function <db:code role="parameter">filter</db:code> that is used to determine which categories and message types should be enabled. Returns a pointer to the previous installed filter.</db:para>
<db:para>Every <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> object created is passed to the filter, and the filter is free to change the respective category configuration with <db:link xlink:href="qloggingcategory.xml#setEnabled">setEnabled</db:link>().</db:para>
<db:para>The filter might be called concurrently from different threads, and therefore has to be reentrant.</db:para>
<db:para>Example:</db:para>
<db:programlisting language="cpp">QLoggingCategory::CategoryFilter oldCategoryFilter;

void myCategoryFilter(QLoggingCategory *category)
{
    // configure qt.driver.usb category here, otherwise forward to to default filter.
    if (qstrcmp(category-&gt;categoryName(), &quot;qt.driver.usb&quot;) == 0)
        category-&gt;setEnabled(QtDebugMsg, true);
    else
        oldCategoryFilter(category);
}
</db:programlisting>
<db:para>An alternative way of configuring the default filter is via <db:link xlink:href="qloggingcategory.xml#setFilterRules">setFilterRules</db:link>().</db:para>
</db:section>
<db:section xml:id="isCriticalEnabled">
<db:title>bool QLoggingCategory::isCriticalEnabled() const</db:title>
<db:para>Returns <db:code>true</db:code> if critical messages should be shown for this category. Returns <db:code>false</db:code> otherwise.</db:para>
<db:note>
<db:para>The <db:link xlink:href="qloggingcategory.xml#qCCritical">qCCritical</db:link>() macro already does this check before executing any code. However, calling this method may be useful to avoid expensive generation of data that is only used for debug output.</db:para>
</db:note>
</db:section>
<db:section xml:id="isDebugEnabled">
<db:title>bool QLoggingCategory::isDebugEnabled() const</db:title>
<db:para>Returns <db:code>true</db:code> if debug messages should be shown for this category. Returns <db:code>false</db:code> otherwise.</db:para>
<db:note>
<db:para>The <db:link xlink:href="qloggingcategory.xml#qCDebug">qCDebug</db:link>() macro already does this check before executing any code. However, calling this method may be useful to avoid expensive generation of data that is only used for debug output.</db:para>
</db:note>
</db:section>
<db:section xml:id="isEnabled">
<db:title>bool QLoggingCategory::isEnabled(QtMsgType <db:emphasis>msgtype</db:emphasis>) const</db:title>
<db:para>Returns <db:code>true</db:code> if a message of type <db:code role="parameter">msgtype</db:code> for the category should be shown. Returns <db:code>false</db:code> otherwise.</db:para>
</db:section>
<db:section xml:id="isWarningEnabled">
<db:title>bool QLoggingCategory::isWarningEnabled() const</db:title>
<db:para>Returns <db:code>true</db:code> if warning messages should be shown for this category. Returns <db:code>false</db:code> otherwise.</db:para>
<db:note>
<db:para>The <db:link xlink:href="qloggingcategory.xml#qCWarning">qCWarning</db:link>() macro already does this check before executing any code. However, calling this method may be useful to avoid expensive generation of data that is only used for debug output.</db:para>
</db:note>
</db:section>
<db:section xml:id="setEnabled">
<db:title>void QLoggingCategory::setEnabled(QtMsgType <db:emphasis>type</db:emphasis>, bool <db:emphasis>enable</db:emphasis>)</db:title>
<db:para>Changes the message type <db:code role="parameter">type</db:code> for the category to <db:code role="parameter">enable</db:code>.</db:para>
<db:note>
<db:para>Changes only affect the current <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> object, and won't change the settings of other objects for the same category name. Use either <db:link xlink:href="qloggingcategory.xml#setFilterRules">setFilterRules</db:link>() or <db:link xlink:href="qloggingcategory.xml#installFilter">installFilter</db:link>() to change the configuration globally.</db:para>
</db:note>
<db:note>
<db:para><db:code>QtFatalMsg</db:code> cannot be changed. It will always return <db:code>true</db:code>.</db:para>
</db:note>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qloggingcategory.xml#isEnabled">isEnabled</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setFilterRules">
<db:title>[static] void QLoggingCategory::setFilterRules(const QString &amp;<db:emphasis>rules</db:emphasis>)</db:title>
<db:para>Configures which categories and message types should be enabled through a a set of <db:code role="parameter">rules</db:code>.</db:para>
<db:para>Each line in <db:code role="parameter">rules</db:code> must have the format</db:para>
<db:programlisting language="cpp">&lt;category&gt;[.&lt;type&gt;] = true|false
</db:programlisting>
<db:para>where <db:code>&lt;category&gt;</db:code> is the name of the category, potentially with <db:code>*</db:code> as a wildcard symbol at the start and/or the end. The optional <db:code>&lt;type&gt;</db:code> must be either <db:code>debug</db:code>, <db:code>warning</db:code>, or <db:code>critical</db:code>.</db:para>
<db:para>Example:</db:para>
<db:programlisting language="cpp">    QLoggingCategory::setFilterRules(QStringLiteral(&quot;qt.driver.usb.debug=true&quot;));
</db:programlisting>
<db:note>
<db:para>The rules might be ignored if a custom category filter is installed with <db:link xlink:href="qloggingcategory.xml#installFilter">installFilter</db:link>().</db:para>
</db:note>
</db:section>
<db:section xml:id="operator-28-29">
<db:title>QLoggingCategory &amp;QLoggingCategory::operator()()</db:title>
<db:para>Returns the object itself. This allows both a <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link> variable, and a factory method returning a <db:link xlink:href="qloggingcategory.xml">QLoggingCategory</db:link>, to be used in <db:link xlink:href="qloggingcategory.xml#qCDebug">qCDebug</db:link>(), <db:link xlink:href="qloggingcategory.xml#qCWarning">qCWarning</db:link>(), <db:link xlink:href="qloggingcategory.xml#qCCritical">qCCritical</db:link>() macros.</db:para>
</db:section>
</db:section>
<db:section xml:id="macro-documentation">
<db:title>Macro Documentation</db:title>
<db:section xml:id="Q_DECLARE_LOGGING_CATEGORY">
<db:title>[since 5.2] Q_DECLARE_LOGGING_CATEGORY(<db:emphasis>name</db:emphasis>)</db:title>
<db:para>Declares a logging category <db:code role="parameter">name</db:code>. The macro can be used to declare a common logging category shared in different parts of the program.</db:para>
<db:para>This macro must be used outside of a class or method.</db:para>
<db:para>This macro was introduced in Qt 5.2.</db:para>
</db:section>
<db:section xml:id="Q_LOGGING_CATEGORY">
<db:title>[since 5.2] Q_LOGGING_CATEGORY(<db:emphasis>name</db:emphasis>, <db:emphasis>string</db:emphasis>)</db:title>
<db:para>Defines a logging category <db:code role="parameter">name</db:code>, and makes it configurable under the <db:code role="parameter">string</db:code> identifier.</db:para>
<db:para>Only one translation unit in a library or executable can define a category with a specific name.</db:para>
<db:para>This macro must be used outside of a class or method.</db:para>
<db:para>This macro was introduced in Qt 5.2.</db:para>
</db:section>
<db:section xml:id="qCCritical">
<db:title>[since 5.2] qCCritical(<db:emphasis>category</db:emphasis>)</db:title>
<db:para>Returns an output stream for critical messages in the logging category <db:code role="parameter">category</db:code>.</db:para>
<db:para>The macro expands to code that checks whether <db:link xlink:href="qloggingcategory.xml#isCriticalEnabled">QLoggingCategory::isCriticalEnabled</db:link>() evaluates to <db:code>true</db:code>. If so, the stream arguments are processed and sent to the message handler.</db:para>
<db:para>Example:</db:para>
<db:programlisting language="cpp">    QLoggingCategory category(&quot;qt.driver.usb&quot;);
    qCCritical(category) &lt;&lt; &quot;a critical message&quot;;
</db:programlisting>
<db:note>
<db:para>Arguments are not processed if critical output for the category is not enabled, so do not rely on any side effects.</db:para>
</db:note>
<db:para>This macro was introduced in Qt 5.2.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qtglobal.xml#qCritical">qCritical</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="qCDebug">
<db:title>[since 5.2] qCDebug(<db:emphasis>category</db:emphasis>)</db:title>
<db:para>Returns an output stream for debug messages in the logging category <db:code role="parameter">category</db:code>.</db:para>
<db:para>The macro expands to code that checks whether <db:link xlink:href="qloggingcategory.xml#isDebugEnabled">QLoggingCategory::isDebugEnabled</db:link>() evaluates to <db:code>true</db:code>. If so, the stream arguments are processed and sent to the message handler.</db:para>
<db:para>Example:</db:para>
<db:programlisting language="cpp">    QLoggingCategory category(&quot;qt.driver.usb&quot;);
    qCDebug(category) &lt;&lt; &quot;a debug message&quot;;
</db:programlisting>
<db:note>
<db:para>Arguments are not processed if debug output for the category is not enabled, so do not rely on any side effects.</db:para>
</db:note>
<db:para>This macro was introduced in Qt 5.2.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qtglobal.xml#qDebug">qDebug</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="qCWarning">
<db:title>[since 5.2] qCWarning(<db:emphasis>category</db:emphasis>)</db:title>
<db:para>Returns an output stream for warning messages in the logging category <db:code role="parameter">category</db:code>.</db:para>
<db:para>The macro expands to code that checks whether <db:link xlink:href="qloggingcategory.xml#isWarningEnabled">QLoggingCategory::isWarningEnabled</db:link>() evaluates to <db:code>true</db:code>. If so, the stream arguments are processed and sent to the message handler.</db:para>
<db:para>Example:</db:para>
<db:programlisting language="cpp">    QLoggingCategory category(&quot;qt.driver.usb&quot;);
    qCWarning(category) &lt;&lt; &quot;a warning message&quot;;
</db:programlisting>
<db:note>
<db:para>Arguments are not processed if warning output for the category is not enabled, so do not rely on any side effects.</db:para>
</db:note>
<db:para>This macro was introduced in Qt 5.2.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qtglobal.xml#qWarning">qWarning</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
</db:section>
</db:article>
