<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Qt Wayland Compositor</db:title>
<db:productname>QtWaylandCompositor</db:productname>
<db:edition>Qt 5.11.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Wayland Compositor Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>An API to develop display servers supporting the Wayland protocol.</db:para>
</db:abstract>
<db:pubdate>2024-12-27</db:pubdate>
<db:date>2024-12-27</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para><db:link xlink:href="https://wayland.freedesktop.org/">Wayland</db:link> is a display server protocol to help in creating multi-process systems, where multiple client applications may render content on the same display, by going via a compositor process.</db:para>
<db:para>Compared to a system with a single-process design, a multi-process system gives several benefits:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>Easier resource management, through the regular operating system mechanisms.</db:para>
</db:listitem>
<db:listitem>
<db:para>Better security, as each application can run with its own permissions or sandbox.</db:para>
</db:listitem>
<db:listitem>
<db:para>Clearer separation of application UI and compositor UI, so each can be modified independently.</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>In a typical Wayland-based system, multiple client processes will render their own contents to off-screen buffers. The information about these buffers will then be passed to a display server process by using the Wayland protocol. Finally, the display server process will composite and position the contents on a physical display.</db:para>
<db:para>Qt Wayland Compositor is a module that provides convenient and powerful QML and C++ APIs for developing custom display servers based on this protocol. The server displays content from client applications that support the Wayland protocol. The design philosophy of Wayland is to keep the core protocol simple and minimal, and to expand on this with use-case-specific extensions. Qt Wayland Compositor supports many common extensions by default, and also has APIs that enables the creation of new, custom extensions.</db:para>
<db:para>In one typical use case, a display server written with Qt Wayland Compositor will be a subsystem inside a larger application manager process. Qt Wayland Compositor provides the APIs to communicate with clients and display their contents on screen, using C++ for low-level access and the full set of Qt Quick effects, animations and convenience when using the QML APIs. A typical application manager would, in addition to this, implement features such as application life cycle, virtual keyboard input, security and IPC. Qt provides APIs that can be used to develop the remaining parts of an application manager in other modules. The <db:link xlink:href="https://www.qt.io/qt-automotive-suite/">Qt Automotive Suite</db:link> provides a complete application manager which includes a display server developed using Qt Wayland Compositor.</db:para>
<db:section xml:id="features-of-qt-wayland-compositor">
<db:title>Features of Qt Wayland Compositor</db:title>
<db:para>The Qt Wayland Compositor API includes features needed to create a display server.</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>A QML API that can be used to display and manipulate client content, fully integrated with all the features in Qt Quick.</db:para>
</db:listitem>
<db:listitem>
<db:para>A C++ API for low-level access and control.</db:para>
</db:listitem>
<db:listitem>
<db:para>Support for common extensions, including XDG Shell and IVI Application.</db:para>
</db:listitem>
<db:listitem>
<db:para>APIs to easily expand support to include custom extensions.</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="environment-variables-and-command-line-arguments">
<db:title>Environment Variables and Command-line Arguments</db:title>
<db:para>The Qt Wayland Compositor API recognizes some environment variables and command-line arguments that can be used to customize its behavior.</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>Environment variables:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:emphasis role="bold">QT_WAYLAND_HARDWARE_INTEGRATION</db:emphasis> Selects the hardware integration plugin to use.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:emphasis role="bold">QT_WAYLAND_CLIENT_BUFFER_INTEGRATION</db:emphasis> Selects the client buffer integration plugin to use.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:emphasis role="bold">QT_WAYLAND_SERVER_BUFFER_INTEGRATION</db:emphasis> Selects the server integration plugin to use.</db:para>
</db:listitem>
</db:itemizedlist>
</db:listitem>
<db:listitem>
<db:para>Command-line arguments:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:code>--wayland-socket-name</db:code> Overrides the default socket name used for communicating with clients.</db:para>
</db:listitem>
</db:itemizedlist>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="examples">
<db:title>Examples</db:title>
<db:para>Take a look at the <db:link xlink:href="qtwaylandcompositor-examples.xml">Qt Wayland Compositor Examples</db:link> for a demonstration on how the APIs can be used to write custom display servers.</db:para>
</db:section>
<db:section xml:id="licenses-and-attributions">
<db:title>Licenses and Attributions</db:title>
<db:para>Qt Wayland Compositor and the Qt Wayland integration plugin are available under commercial licenses from <db:link xlink:href="http://www.qt.io/about-us/">The Qt Company</db:link>. In addition, they are available under the <db:link xlink:href="http://www.gnu.org/licenses/lgpl-3.0.html">GNU Lesser General Public License, version 3</db:link>, or the <db:link xlink:href="http://www.gnu.org/licenses/gpl-2.0.html">GNU General Public License, version 2</db:link>. See <db:link xlink:href="licensing.xml">Qt Licensing</db:link> for further details.</db:para>
<db:para>Qt Wayland Compositor and the Qt Wayland integration plugin use protocol definitions under following permissive licenses:</db:para>
<db:variablelist role="groupsbymodule attributions-qtwaylandcompositor">
<db:varlistentry>
<db:term><db:link xlink:href="qtwaylandcompositor-attribution-wayland-ivi-extension-protocol.xml" xlink:role="page">Wayland IVI Extension Protocol, version 1.9.1</db:link></db:term>
<db:listitem>
<db:para>MIT License</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term><db:link xlink:href="qtwaylandcompositor-attribution-wayland-protocol.xml" xlink:role="page">Wayland Protocol, version 1.6.1</db:link></db:term>
<db:listitem>
<db:para>HPND License</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term><db:link xlink:href="qtwaylandcompositor-attribution-wayland-txt-input-unstable.xml" xlink:role="page">Wayland Text Input Protocol</db:link></db:term>
<db:listitem>
<db:para>HPND License</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term><db:link xlink:href="qtwaylandcompositor-attribution-wayland-xdg-shell-protocol.xml" xlink:role="page">Wayland XDG Shell Protocol, version 1.9.0</db:link></db:term>
<db:listitem>
<db:para>MIT License</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
</db:section>
<db:section xml:id="api-reference">
<db:title>API Reference</db:title>
<db:para>The Qt Wayland Compositor API can be used from C++ or QML.</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:link xlink:href="qtwayland-compositor-qmlmodule.xml">Qt Wayland Compositor QML Types</db:link></db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="qtwaylandcompositor-module.xml">Qt Wayland Compositor C++ Classes</db:link></db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
</db:article>
