<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>QT_SKIP_DEFAULT_TESTCASE_DIRS</db:title>
<db:productname>QtTestLib</db:productname>
<db:edition>Qt 6.9.1 Reference Documentation</db:edition>
<db:titleabbrev>Qt Test Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Disables the test case directory definitions for targets that link to the Test library.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:anchor xml:id="cmake-target-property-qt-skip-default-testcase-dirs"/>
<db:para>This property was introduced in Qt 6.9.</db:para>
<db:note>
<db:para>This property is in technology preview and may change in future releases.</db:para>
</db:note>
<db:para>The property disables the following compile-time definitions for the target:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>QT_TESTCASE_SOURCEDIR</db:para>
</db:listitem>
<db:listitem>
<db:para>QT_TESTCASE_BUILDDIR</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>By default, these definitions point to the source and build directories of the target. Since they are only defined for this target, they preclude sharing precompiled headers with the compilation of other targets. If <db:code>QT_SKIP_DEFAULT_TESTCASE_DIRS</db:code> is set to <db:code>TRUE</db:code> these definitions are omitted, avoiding this limitation.</db:para>
<db:programlisting language="cpp" role="bad">qt_add_executable(mytest main.cpp)
set_property(TARGET mytest PROPERTY QT_SKIP_DEFAULT_TESTCASE_DIRS TRUE)
target_link_libraries(mytest PRIVATE Qt6::Test)
</db:programlisting>
<db:para>The <db:code>QT_TESTCASE_SOURCEDIR</db:code> and <db:code>QT_TESTCASE_BUILDDIR</db:code> macros will remain undefined when compiling <db:code>mytest</db:code>.</db:para>
<db:para>The value of the property defaults to the value of the <db:link xlink:href="cmake-variable-qt-skip-default-testcase-dirs.xml#cmake-variable-qt-skip-default-testcase-dirs">QT_SKIP_DEFAULT_TESTCASE_DIRS</db:link> variable.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qtest.xml#QFINDTESTDATA">QFINDTESTDATA</db:link></db:member>
<db:member><db:link xlink:href="cmake-variable-qt-skip-default-testcase-dirs.xml#cmake-variable-qt-skip-default-testcase-dirs">QT_SKIP_DEFAULT_TESTCASE_DIRS</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:article>
