<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>CameraFocus QML Type</db:title>
<db:productname>QtMultimedia</db:productname>
<db:edition>Qt 5.6.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Multimedia Documentation</db:titleabbrev>
<db:abstract>
<db:para>An interface for focus related camera settings.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Import Statement</db:term>
<db:listitem>
<db:para>import QtMultimedia 5.6</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Group</db:term>
<db:listitem>
<db:para>CameraFocus is part of <db:simplelist><db:member>multimedia_qml</db:member><db:member>camera_qml</db:member></db:simplelist>
</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:para>This type allows control over manual and automatic focus settings, including information about any parts of the camera frame that are selected for autofocusing.</db:para>
<db:para>It should not be constructed separately, instead the <db:code>focus</db:code> property of a <db:link xlink:href="qml-qtmultimedia-camera.xml">Camera</db:link> should be used.</db:para>
<db:programlisting language="qml">Item {
    width: 640
    height: 360

    Camera {
        id: camera

        focus {
            focusMode: Camera.FocusMacro
            focusPointMode: Camera.FocusPointCustom
            customFocusPoint: Qt.point(0.2, 0.2) // Focus relative to top-left corner
        }
    }

    VideoOutput {
        source: camera
        anchors.fill: parent
    }
}

</db:programlisting>
</db:section>
<db:section xml:id="property-documentation">
<db:title>Property Documentation</db:title>
<db:section xml:id="customFocusPoint-prop">
<db:title>customFocusPoint : point</db:title>
<db:para>This property holds the position of custom focus point, in relative frame coordinates: <db:link xlink:href="qpointf.xml">QPointF</db:link>(0,0) points to the left top frame point, <db:link xlink:href="qpointf.xml">QPointF</db:link>(0.5,0.5) points to the frame center.</db:para>
<db:para>Custom focus point is used only in FocusPointCustom focus mode.</db:para>
</db:section>
<db:section xml:id="focusMode-prop">
<db:title>focusMode : enumeration</db:title>
<db:para>This property holds the current camera focus mode, which can be one of the following values:</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Value</db:para>
</db:th>
<db:th>
<db:para>Description</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para>FocusManual</db:para>
</db:td>
<db:td>
<db:para>Manual or fixed focus mode.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusHyperfocal</db:para>
</db:td>
<db:td>
<db:para>Focus to hyperfocal distance, with the maximum depth of field achieved. All objects at distances from half of this distance out to infinity will be acceptably sharp.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusInfinity</db:para>
</db:td>
<db:td>
<db:para>Focus strictly to infinity.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusAuto</db:para>
</db:td>
<db:td>
<db:para>One-shot auto focus mode.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusContinuous</db:para>
</db:td>
<db:td>
<db:para>Continuous auto focus mode.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusMacro</db:para>
</db:td>
<db:td>
<db:para>One shot auto focus to objects close to camera.</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>It's possible to combine multiple Camera::FocusMode values, for example Camera.FocusMacro + Camera.FocusContinuous.</db:para>
<db:para>In automatic focusing modes, the <db:link xlink:href="qml-qtmultimedia-camerafocus.xml#focusPointMode-prop">focusPointMode</db:link> property and <db:link xlink:href="qml-qtmultimedia-camerafocus.xml#focusZones-prop">focusZones</db:link> property provide information and control over how automatic focusing is performed.</db:para>
</db:section>
<db:section xml:id="focusPointMode-prop">
<db:title>focusPointMode : enumeration</db:title>
<db:para>This property holds the current camera focus point mode. It is used in automatic focusing modes to determine what to focus on. If the current focus point mode is <db:code>Camera.FocusPointCustom</db:code>, the <db:link xlink:href="qml-qtmultimedia-camerafocus.xml#customFocusPoint-prop">customFocusPoint</db:link> property allows you to specify which part of the frame to focus on.</db:para>
<db:para>The property can take one of the following values:</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Value</db:para>
</db:th>
<db:th>
<db:para>Description</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para>FocusPointAuto</db:para>
</db:td>
<db:td>
<db:para>Automatically select one or multiple focus points.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusPointCenter</db:para>
</db:td>
<db:td>
<db:para>Focus to the frame center.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusPointFaceDetection</db:para>
</db:td>
<db:td>
<db:para>Focus on faces in the frame.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>FocusPointCustom</db:para>
</db:td>
<db:td>
<db:para>Focus to the custom point, defined by the <db:link xlink:href="qml-qtmultimedia-camerafocus.xml#customFocusPoint-prop">customFocusPoint</db:link> property.</db:para>
</db:td>
</db:tr>
</db:informaltable>
</db:section>
<db:section xml:id="focusZones-prop">
<db:title>[read-only] focusZones : list&lt;focusZone&gt;</db:title>
<db:para>This property holds the list of current camera focus zones, each including <db:code>area</db:code> specified in the same coordinates as <db:link xlink:href="qml-qtmultimedia-camerafocus.xml#customFocusPoint-prop">customFocusPoint</db:link>, and zone <db:code>status</db:code> as one of the following values:</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Value</db:para>
</db:th>
<db:th>
<db:para>Description</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para>Camera.FocusAreaUnused</db:para>
</db:td>
<db:td>
<db:para>This focus point area is currently unused in autofocusing.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>Camera.FocusAreaSelected</db:para>
</db:td>
<db:td>
<db:para>This focus point area is used in autofocusing, but is not in focus.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para>Camera.FocusAreaFocused</db:para>
</db:td>
<db:td>
<db:para>This focus point is used in autofocusing, and is in focus.</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:programlisting language="qml">VideoOutput {
    id: viewfinder
    source: camera

    //display focus areas on camera viewfinder:
    Repeater {
          model: camera.focus.focusZones

          Rectangle {
              border {
                  width: 2
                  color: status == Camera.FocusAreaFocused ? &quot;green&quot; : &quot;white&quot;
              }
              color: &quot;transparent&quot;

              // Map from the relative, normalized frame coordinates
              property variant mappedRect: viewfinder.mapNormalizedRectToItem(area);

              x: mappedRect.x
              y: mappedRect.y
              width: mappedRect.width
              height: mappedRect.height
          }
    }
}
</db:programlisting>
</db:section>
</db:section>
<db:section xml:id="method-documentation">
<db:title>Method Documentation</db:title>
<db:section xml:id="isFocusModeSupported-method">
<db:title>bool isFocusModeSupported(<db:emphasis>mode</db:emphasis>)</db:title>
<db:para>Returns true if the supplied <db:code role="parameter">mode</db:code> is a supported focus mode, and false otherwise.</db:para>
</db:section>
<db:section xml:id="isFocusPointModeSupported-method">
<db:title>bool isFocusPointModeSupported(<db:emphasis>mode</db:emphasis>)</db:title>
<db:para>Returns true if the supplied <db:code role="parameter">mode</db:code> is a supported focus point mode, and false otherwise.</db:para>
</db:section>
</db:section>
</db:article>
