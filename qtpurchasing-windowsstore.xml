<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Registering Products in Windows Store</db:title>
<db:productname>QtPurchasing</db:productname>
<db:edition>Qt 5.8.0 Reference Documentation</db:edition>
<db:titleabbrev>Qt Purchasing Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>A short guide to registering in-app products in Windows Store.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para>This guide provides a brief introduction to registering an application and its in-app products on Windows Store.</db:para>
<db:para>In-App purchasing for WinRT differentiates between two modes:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:code>Simulation</db:code>: All Windows Store interaction is emulated and controlled via a configuration XML file. A project containing this file will fail certification and cannot be published.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:code>Store interaction</db:code>: The application talks to the Windows Store directly without any layer in between. This binary can neither be side-loaded nor tested locally. The user has to retrieve the app through the Windows Store itself.</db:para>
</db:listitem>
</db:itemizedlist>
<db:section xml:id="using-the-simulation-mode">
<db:title>Using the Simulation Mode</db:title>
<db:para>During the development process it is not allowed to interact with the Windows Store directly. Instead, an XML file has to be used, describing the available in-app products and the license of the application itself. Go to the <db:link xlink:href="https://msdn.microsoft.com/en-us/library/windows/apps/windows.applicationmodel.store.currentappsimulator.aspx">MSDN documentation</db:link> for more information on the format of this XML file.</db:para>
<db:para>This XML file has to be added to the root directory of the application resources and named <db:emphasis role="bold">QtStoreSimulation.xml</db:emphasis>.</db:para>
</db:section>
<db:section xml:id="using-the-windows-store">
<db:title>Using the Windows Store</db:title>
<db:section xml:id="adding-in-app-products-to-windows-store">
<db:title>Adding In-App Products to Windows Store</db:title>
<db:para>In order to access in-app products from your application, you must register them to the Windows Store. Go the the <db:guilabel>IAPs</db:guilabel> page and click <db:guilabel>Create a new IAP</db:guilabel>.</db:para>
<db:para>Fill out the following information about your product:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:guilabel>Product type</db:guilabel> – Choose either <db:guilabel>Consumable</db:guilabel> or <db:guilabel>Durable</db:guilabel> depending on the type of the in-app product. Note that you will <db:emphasis role="bold">not</db:emphasis> be able to change this later.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:guilabel>Product ID</db:guilabel> – An identifier that is used to access the product from your code.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:guilabel>Pricing and Availability</db:guilabel> – Price for the product and the geographical areas where it is available.</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>In-app products will be available once you have published the application.</db:para>
</db:section>
<db:section xml:id="publishing-your-application">
<db:title>Publishing Your Application</db:title>
<db:para>In order to test in-app purchases in your application, you first have to publish it. To limit the users who can access the application before it is ready for production, it can be published as either alpha or beta.</db:para>
</db:section>
</db:section>
<db:section xml:id="platform-notes">
<db:title>Platform Notes</db:title>
<db:para>The Windows Store provides a way to set an application into trial mode and buy the application itself via in-app purchases. To reflect this functionality, the WinRT backend uses the <db:emphasis role="bold">app</db:emphasis> keyword as an <db:link xlink:href="qinappproduct.xml#identifier-prop">identifier</db:link>. If a product query for <db:emphasis role="bold">app</db:emphasis> succeeds, the current license is valid. The <db:link xlink:href="qinappproduct.xml#title-prop">product name</db:link> itself will provide information on the license state of the app and can have the following content:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:code>Trial period</db:code>: The app is in trial mode and can be purchased.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:code>Fully licensed</db:code>: The app has been bought.</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>If a product query for <db:emphasis role="bold">app</db:emphasis> fails, then either the trial has expired or the license is invalid. Your app should check for this product and react accordingly, for instance by showing a dialog to the user.</db:para>
</db:section>
</db:article>
