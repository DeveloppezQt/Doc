<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en_US">
<db:info>
<db:title>Qt Quick Examples - Shader Effects</db:title>
<db:productname>QtQuick</db:productname>
<db:edition>Qt 5.3.2 Reference Documentation</db:edition>
<db:titleabbrev>Qt Quick Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>This is a shader effects example.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/qml-shadereffects-example.png"/>
</db:imageobject>
</db:mediaobject>
<db:para>This example demonstrates a couple of visual effects that you can perform with shaders in Qt Quick. For more information, visit <db:link xlink:href="qtquick-effects-topic.xml">Important Concepts In Qt Quick - Graphical Effects</db:link></db:para>
<db:section xml:id="running-the-example">
<db:title>Running the Example</db:title>
<db:para>To run the example from <db:link xlink:href="http://qt-project.org/doc/qtcreator/index.html">Qt Creator</db:link>, open the <db:emphasis role="bold">Welcome</db:emphasis> mode and select the example from <db:emphasis role="bold">Examples</db:emphasis>. For more information, visit <db:link xlink:href="http://qt-project.org/doc/qtcreator/creator-build-example-application.html">Building and Running an Example</db:link>.</db:para>
</db:section>
<db:section xml:id="using-shadereffect">
<db:title>Using ShaderEffect</db:title>
<db:para>The <db:link xlink:href="qml-qtquick-shadereffect.xml">ShaderEffect</db:link> type typically operates on other types, using a <db:link xlink:href="qml-qtquick-shadereffectsource.xml">ShaderEffectSource</db:link>:</db:para>
<db:programlisting language="qml">ShaderEffectSource {
    id: theSource
    sourceItem: theItem
}
</db:programlisting>
<db:para>In the above snippet, <db:code>theItem</db:code> is the ID of a complex QML object in the file.</db:para>
<db:para>ShaderEffects can use this <db:link xlink:href="qml-qtquick-shadereffectsource.xml">ShaderEffectSource</db:link> as a texture in their fragment shader:</db:para>
<db:programlisting language="qml">fragmentShader:
    &quot;uniform lowp float qt_Opacity;&quot; +
    &quot;uniform highp float amplitude;&quot; +
    &quot;uniform highp float frequency;&quot; +
    &quot;uniform highp float time;&quot; +
    &quot;uniform sampler2D source;&quot; +
    &quot;varying highp vec2 qt_TexCoord0;&quot; +
    &quot;void main() {&quot; +
    &quot;    highp vec2 p = sin(time + frequency * qt_TexCoord0);&quot; +
    &quot;    gl_FragColor = texture2D(source, qt_TexCoord0 + amplitude * vec2(p.y, -p.x)) * qt_Opacity;&quot; +
    &quot;}&quot;
</db:programlisting>
<db:para>You can use any custom property on the <db:link xlink:href="qml-qtquick-shadereffect.xml">ShaderEffect</db:link> in your shader. This makes animated shader code very easy:</db:para>
<db:programlisting language="qml">property variant source: theSource
property real bend: 0
property real minimize: 0
property real side: genieSlider.value
SequentialAnimation on bend {
    loops: Animation.Infinite
    NumberAnimation { to: 1; duration: 700; easing.type: Easing.InOutSine }
    PauseAnimation { duration: 1600 }
    NumberAnimation { to: 0; duration: 700; easing.type: Easing.InOutSine }
    PauseAnimation { duration: 1000 }
}
SequentialAnimation on minimize {
    loops: Animation.Infinite
    PauseAnimation { duration: 300 }
    NumberAnimation { to: 1; duration: 700; easing.type: Easing.InOutSine }
    PauseAnimation { duration: 1000 }
    NumberAnimation { to: 0; duration: 700; easing.type: Easing.InOutSine }
    PauseAnimation { duration: 1300 }
}
</db:programlisting>
<db:para>ShaderEffects can also have a custom vertext shader. Setting the mesh property on <db:link xlink:href="qml-qtquick-shadereffect.xml">ShaderEffect</db:link> provides more vertices for you to manipulate, enabling more effects.</db:para>
<db:programlisting language="qml">mesh: Qt.size(10, 10)
vertexShader: &quot;
    uniform highp mat4 qt_Matrix;
    uniform highp float bend;
    uniform highp float minimize;
    uniform highp float side;
    uniform highp float width;
    uniform highp float height;
    attribute highp vec4 qt_Vertex;
    attribute highp vec2 qt_MultiTexCoord0;
    varying highp vec2 qt_TexCoord0;
    void main() {
        qt_TexCoord0 = qt_MultiTexCoord0;
        highp vec4 pos = qt_Vertex;
        pos.y = mix(qt_Vertex.y, height, minimize);
        highp float t = pos.y / height;
        t = (3. - 2. * t) * t * t;
        pos.x = mix(qt_Vertex.x, side * width, t * bend);
        gl_Position = qt_Matrix * pos;
    }&quot;
</db:programlisting>
</db:section>
<db:section>
<db:title>List of Files</db:title>
<db:para>Files:</db:para>
<db:section>
<db:title>List of Files</db:title>
<db:itemizedlist>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/content/Slider.qml">shadereffects/content/Slider.qml</db:link></db:para></db:listitem>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/main.cpp">shadereffects/main.cpp</db:link></db:para></db:listitem>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/shadereffects.pro">shadereffects/shadereffects.pro</db:link></db:para></db:listitem>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/shadereffects.qml">shadereffects/shadereffects.qml</db:link></db:para></db:listitem>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/shadereffects.qmlproject">shadereffects/shadereffects.qmlproject</db:link></db:para></db:listitem>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/shadereffects.qrc">shadereffects/shadereffects.qrc</db:link></db:para></db:listitem>
</db:itemizedlist>
</db:section>
<db:section>
<db:title>List of Files</db:title>
<db:para>Images:</db:para>
<db:section>
<db:title>List of Files</db:title>
<db:itemizedlist>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/content/face-smile.png">shadereffects/content/face-smile.png</db:link></db:para></db:listitem>
<db:listitem>
<db:para><db:link xlink:href="shadereffects/content/qt-logo.png">shadereffects/content/qt-logo.png</db:link></db:para></db:listitem>
</db:itemizedlist>
</db:section>
</db:section></db:section></db:article>
