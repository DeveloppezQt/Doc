<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Use proper function</db:title>
<db:productname>QtQml</db:productname>
<db:edition>Qt 6.8.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Qml Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>[use-proper-function] Calling something that might not be a function.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para>This warning category is spelled [use-proper-function] by qmllint.</db:para>
<db:section xml:id="property-is-a-variant-property-it-may-or-may-not-be-a-method">
<db:title>Property is a variant property: It may or may not be a method</db:title>
<db:section xml:id="what-happened">
<db:title>What happened?</db:title>
<db:para>You used a property of the type <db:link xlink:href="qml-var.xml">var</db:link> as if it were a callable function.</db:para>
</db:section>
<db:section xml:id="why-is-this-bad">
<db:title>Why is this bad?</db:title>
<db:para>This affects the readability of the code, the QML engine will error out if the property does not contain a callable function, and the QML tooling can't apply specific method optimizations.</db:para>
</db:section>
<db:section xml:id="example">
<db:title>Example</db:title>
<db:programlisting language="qml">import QtQuick

Item {
    property var fun: () =&gt; console.log(&quot;Hello&quot;)
    Component.onCompleted: { fun(); }
}
</db:programlisting>
<db:para>To fix this warning, declare fun as a function to be able to call it:</db:para>
<db:programlisting language="qml">import QtQuick

Item {
    function fun() {
        console.log(&quot;Hello&quot;)
    }

    Component.onCompleted: { fun(); }
}
</db:programlisting>
</db:section>
</db:section>
<db:section xml:id="property-is-a-qjsvalue-property-it-may-or-may-not-be-a-method">
<db:title>Property is a QJSValue property: It may or may not be a method</db:title>
<db:section xml:id="property-is-a-qjsvalue-property-it-may-or-may-not-be-a-method-what-happened-5">
<db:title>What happened?</db:title>
<db:para>You used a property of the type QJSValue as if it were a callable function.</db:para>
<db:note>
<db:para>Properties of the type <db:link xlink:href="qjsvalue.xml">QJSValue</db:link> can only be defined in C++.</db:para>
</db:note>
</db:section>
<db:section xml:id="property-is-a-qjsvalue-property-it-may-or-may-not-be-a-method-why-is-this-bad-6">
<db:title>Why is this bad?</db:title>
<db:para>The property was very probably not meant to be called and will make the QML engine error out at runtime.</db:para>
</db:section>
<db:section xml:id="property-is-a-qjsvalue-property-it-may-or-may-not-be-a-method-example-7">
<db:title>Example</db:title>
<db:programlisting language="qml">import QtQuick

Rectangle {
    // Rectangle has a property gradient of the type QJSValue
    Component.onCompleted: { console.log(gradient()); }
}
</db:programlisting>
<db:para>To fix this warning, remove the call to gradient:</db:para>
<db:programlisting language="qml">import QtQuick

Item {
    // Rectangle has a property gradient of the type QJSValue
    Component.onCompleted: { console.log(gradient); }
}
</db:programlisting>
<db:para>Alternatively, consider replacing the property definition with a regular <db:link xlink:href="qobject.xml#Q_INVOKABLE">Q_INVOKABLE</db:link> method or a <db:link xlink:href="signalsandslots.xml#slots">slot</db:link> if you are the author of the property. This is only possible if the function is never meant to be changed in QML. If you actually need to store a callback, you're out of luck.</db:para>
</db:section>
</db:section>
<db:section xml:id="signal-is-shadowed-by-a-property">
<db:title>Signal is shadowed by a property</db:title>
<db:section xml:id="signal-is-shadowed-by-a-property-what-happened-9">
<db:title>What happened?</db:title>
<db:para>You called a signal that is shadowed by a property or you shadowed a signal with a property.</db:para>
</db:section>
<db:section xml:id="signal-is-shadowed-by-a-property-why-is-this-bad-10">
<db:title>Why is this bad?</db:title>
<db:para>The caller very probably expected to call a signal, and not the shadowing property. This could make the QML engine error out at runtime.</db:para>
</db:section>
<db:section xml:id="signal-is-shadowed-by-a-property-example-11">
<db:title>Example</db:title>
<db:programlisting language="qml">import QtQuick

Item {
    component Base: Item {
        signal helloSignal
    }

    Base {
        property int helloSignal // shadows helloSignal inherited from Base
        Component.onCompleted: { helloSignal(); }
    }
}
</db:programlisting>
<db:para>To fix this warning, rename the shadowing property:</db:para>
<db:programlisting language="qml">import QtQuick

Item {
    component Base: Item {
        signal helloSignal
    }

    Base {
        property int helloSignal2 // does not shadow anymore
        Component.onCompleted: { helloSignal(); }
    }
}
</db:programlisting>
</db:section>
</db:section>
<db:section xml:id="method-is-shadowed-by-a-property">
<db:title>Method is shadowed by a property</db:title>
<db:para>See {Signal is shadowed by a property}.</db:para>
</db:section>
<db:section xml:id="slot-is-shadowed-by-a-property">
<db:title>Slot is shadowed by a property</db:title>
<db:para>See {Signal is shadowed by a property}.</db:para>
</db:section>
<db:section xml:id="property-is-not-a-method">
<db:title>Property is not a method</db:title>
<db:section xml:id="property-is-not-a-method-what-happened-15">
<db:title>What happened?</db:title>
<db:para>You used a property of a type other than <db:link xlink:href="qml-var.xml">var</db:link> or QJSValue as if it were a callable function.</db:para>
</db:section>
<db:section xml:id="property-is-not-a-method-why-is-this-bad-16">
<db:title>Why is this bad?</db:title>
<db:para>The property can't be called and will make the QML engine error out at runtime.</db:para>
</db:section>
<db:section xml:id="property-is-not-a-method-example-17">
<db:title>Example</db:title>
<db:programlisting language="qml">import QtQuick

Item {
    property int hello
    Component.onCompleted: { console.log(hello()); }
}
</db:programlisting>
<db:para>To fix this warning, remove the call or make hello a function:</db:para>
<db:programlisting language="qml">import QtQuick

Item {
    property int hello
    Component.onCompleted: { console.log(hello); }

    // alternative:
    function helloAlternative() { ... }
    Component.onCompleted: { console.log(helloAlternative()); }
}
</db:programlisting>
</db:section>
</db:section>
</db:article>
