<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>qt_import_plugins</db:title>
<db:productname>QtCore</db:productname>
<db:edition>Qt 6.6.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Core Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Specifies a custom set of plugins to import or exclude.</db:para>
</db:abstract>
<db:pubdate>2024-12-27</db:pubdate>
<db:date>2024-12-27</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para>Specifies a custom set of plugins to import or exclude.</db:para>
<db:para>The command is defined in the Core component of the Qt6 package, which can be loaded like so:</db:para>
<db:programlisting language="cpp" role="bad">find_package(Qt6 REQUIRED COMPONENTS Core)
</db:programlisting>
<db:para>This command was introduced in Qt 5.14.</db:para>
<db:section xml:id="synopsis">
<db:title>Synopsis</db:title>
<db:programlisting language="cpp" role="bad">qt_import_plugins(target
                  [INCLUDE plugin ...]
                  [EXCLUDE plugin ...]
                  [INCLUDE_BY_TYPE plugin_type plugin ...]
                  [EXCLUDE_BY_TYPE plugin_type]
                  [NO_DEFAULT]
)
</db:programlisting>
<db:para>If <db:link xlink:href="cmake-qt5-and-qt6-compatibility.xml#versionless-commands">versionless commands</db:link> are disabled, use qt6_import_plugins() instead. It supports the same set of arguments as this command.</db:para>
</db:section>
<db:section xml:id="description">
<db:title>Description</db:title>
<db:para>Specifies a custom set of plugins to import. The optional arguments: INCLUDE, EXCLUDE, INCLUDE_BY_TYPE, and EXCLUDE_BY_TYPE, can be used more than once.</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>INCLUDE – can be used to specify a list of plugins to import.</db:para>
</db:listitem>
<db:listitem>
<db:para>EXCLUDE – can be used to specify a list of plugins to exclude.</db:para>
</db:listitem>
<db:listitem>
<db:para>INCLUDE_BY_TYPE – can be used to override the list of plugins to import for a certain plugin type.</db:para>
</db:listitem>
<db:listitem>
<db:para>EXCLUDE_BY_TYPE – can be used to specify a plugin type to exclude; then no plugins of that type are imported.</db:para>
</db:listitem>
<db:listitem>
<db:para>NO_DEFAULT – prevent the default plugins from being included automatically (for example, the default platform plugin).</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>Qt provides plugin types such as imageformats, platforms, and sqldrivers.</db:para>
<db:section xml:id="dynamic-plugins">
<db:title>Dynamic plugins</db:title>
<db:para>If plugins are dynamic libraries, the function controls the plugin deployment. Using this function, you may exclude specific plugin types from being packaged into an Android APK, for example:</db:para>
<db:programlisting language="cpp" role="bad">qt_add_executable(MyApp ...)
...
qt_import_plugins(MyApp EXCLUDE_BY_TYPE imageformats)
</db:programlisting>
<db:para>In the snippet above, all plugins that have the imageformats type will be excluded when deploying MyApp. The resulting Android APK will not contain any of the imageformats plugins.</db:para>
<db:para>If the command isn't used, the target automatically deploys all plugins that belong to the Qt modules that the target is linked against.</db:para>
</db:section>
<db:section xml:id="static-plugins">
<db:title>Static plugins</db:title>
<db:para>If the command isn't used the target automatically links against a sane set of default static plugins, for each Qt module that the target is linked against. For more information, see <db:link xlink:href="https://cmake.org/cmake/help/latest/command/target_link_libraries.html">target_link_libraries</db:link>.</db:para>
<db:para>Each plugin comes with a C++ stub file that automatically initializes the static plugin. Consequently, any target that links against a plugin has this C++ file added to its SOURCES.</db:para>
</db:section>
</db:section>
<db:section xml:id="examples">
<db:title>Examples</db:title>
<db:programlisting language="cpp">qt_add_executable(myapp main.cpp)
target_link_libraries(myapp Qt::Gui Qt::Sql)
qt_import_plugins(myapp
    INCLUDE Qt::QCocoaIntegrationPlugin
    EXCLUDE Qt::QMinimalIntegrationPlugin
    INCLUDE_BY_TYPE imageformats Qt::QGifPlugin Qt::QJpegPlugin
    EXCLUDE_BY_TYPE sqldrivers
)
</db:programlisting>
<db:para>In the snippet above, the following occurs with the executable myapp:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>The Qt6::QCocoaIntegrationPlugin is imported into myapp.</db:para>
</db:listitem>
<db:listitem>
<db:para>The Qt6::QMinimalIntegrationPlugin plugin is excluded from being automatically imported into myapp.</db:para>
</db:listitem>
<db:listitem>
<db:para>The default list of plugins for imageformats is overridden to only include Qt6::QGifPlugin and Qt6::QJpegPlugin.</db:para>
</db:listitem>
<db:listitem>
<db:para>All sqldrivers plugins are excluded from automatic importing.</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qt-import-qml-plugins.xml#qt6-import-qml-plugins">qt_import_qml_plugins()</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:article>
