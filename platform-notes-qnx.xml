<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Platform and Compiler Notes - QNX</db:title>
<db:productname>QtDoc</db:productname>
<db:edition>Qt 5.6.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Qt Reference Documentation.</db:para></db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para><db:emphasis role="bold">&lt;Unknown command&gt;<db:code>contentspage</db:code></db:emphasis>Platform and Compiler Notes</db:para>
<db:section xml:id="supported-architectures-and-qnx-releases">
<db:title>Supported Architectures and QNX Releases</db:title>
<db:para>From the perspective of an application development platform, Qt runs on top of <db:link xlink:href="http://www.qnx.com/products/neutrino-rtos/neutrino-rtos.html">QNX Neutrino RTOS</db:link>. System integrators and application developers use a QNX SDP (Software Development Platform) which includes QNX Neutrino RTOS components for various targets and a full set of development tools. <db:link xlink:href="http://www.qnx.com/">QNX Software Systems</db:link> also provides additional packages which enrich the standard feature set of QNX Neutrino RTOS. Currently, those packages are:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:link xlink:href="http://www.qnx.com/download/group.html?programid=26072">QNX SDK for Apps and Media 1.0</db:link>.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://www.qnx.com/download/group.html?programid=26076">QNX CAR Platform 2.1</db:link>.</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>Qt 5 is currently tested and supported on QNX SDP 6.6 with QNX SDK for Apps and Media, see the section <db:link xlink:href="platform-notes-qnx.xml#build-requirements">Build Requirements</db:link> for more details. Supported architectures are ARMle-v7 and x86. Older QNX SDP releases and other architectures may also work, but are not subject to regular builds and testing.</db:para>
<db:para>For a specific list of available boards, displays and input devices, contact QNX Software Systems (info@qnx.com) or KDAB (qnx-info@kdab.com). Qt on the QNX Neutrino OS is also supported by Qt Enterprise Embedded, <db:link xlink:href="http://www.qt.io/contact-us/">contact The Qt Company</db:link> for more details.</db:para>
</db:section>
<db:section xml:id="supported-modules">
<db:title>Supported Modules</db:title>
<db:para>Almost all Qt Essential <db:link xlink:href="qtmodules.xml">modules</db:link> and some add-ons are supported on the QNX Neutrino RTOS. See the <db:link xlink:href="http://wiki.qt.io/Qt_Status_on_QNX">status page on the Qt Project wiki</db:link> for details.</db:para>
<db:para>If you build Qt from a released source code distribution archive, the configure tool ensures that the build will be made only for modules which are known to build for the target specified. Additionally, you can explicitly exclude unsupported or not needed modules from the build via the -skip &lt;module&gt; option when running the configure tool.</db:para>
<db:para>If you build Qt directly from the Git repository, you should initialize the repository only with modules which are supported or build and install modules separately. This helps to prevent unexpected build problems.</db:para>
</db:section>
<db:section xml:id="build-requirements">
<db:title>Build Requirements</db:title>
<db:para>Building Qt 5 requires the following packages available from the <db:link xlink:href="http://www.qnx.com/">QNX website</db:link> (an access requires registration):</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:link xlink:href="http://www.qnx.com/download/group.html?programid=26071">SDP 6.6</db:link> with <db:link xlink:href="http://www.qnx.com/download/group.html?programid=26072">QNX SDK for Apps and Media 1.0</db:link>. This combination forms the current reference platform for Qt on QNX Neutrino RTOS and should be your first choice.</db:para>
</db:listitem>
<db:listitem>
<db:para><db:link xlink:href="http://www.qnx.com/download/group.html?programid=26071">SDP 6.6</db:link>. Compared to the previous configuration, this choice does not not use <db:link xlink:href="http://www.qnx.com/download/group.html?programid=26072">QNX SDK for Apps and Media 1.0</db:link> which provides fontconfig and multimedia support along with other features. In this case, Qt will use the internal font database instead of fontconfig, and <db:link xlink:href="qt5-intro.xml#multimedia">multimeida</db:link> will be not functional.</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>The compiler and other parts of the tool chain are provided in the SDP packages. You do not need any additional installations on your host PC. Still, it is advisable to ensure that you can build Qt on the host for the desktop target as well. See <db:link xlink:href="build-sources.xml">Building Qt Sources</db:link> for more details. All supported QNX Neutrino RTOS targets are fully integrated in the makespecs provided in the Qt sources. You just need to specify the target name for cross-compilation when configuring a Qt build:</db:para>
<db:para>For ARM:</db:para>
<db:programlisting language="cpp">./configure -xplatform qnx-armle-v7-qcc
</db:programlisting>
<db:para>For x86:</db:para>
<db:programlisting language="cpp">./configure -xplatform qnx-x86-qcc
</db:programlisting>
<db:para>The configure tool runs various tests to detect capabilities of the SDP and its add-ons. It sets related flags according the test results. Check the configure summary on the console or in ./qtbase/config.summary if needed and set other flags manually as required. See <db:link xlink:href="configure-options.xml">Qt Configure Options</db:link> for more details.</db:para>
<db:para>Independent of the platform you are building for, consider using the -prefix option with configure as well, for example, -prefix &lt;Qt-install-path&gt;. This specifies the target folder where Qt will be installed and places all build artifacts outside of the source code tree.</db:para>
</db:section>
<db:section xml:id="qt-runtime-target-requirements">
<db:title>Qt Runtime Target Requirements</db:title>
<db:para>QNX Software Systems delivers software solutions for making embedded devices. This includes creation of QNX Neutrino RTOS boot images in a very flexible way. Even though QNX provides several reference scripts for the OS image creation, sooner or later you will need to make changes or you might decide to create an OS image from scratch. Qt relies on the existence of several third-party components and selected OS services. Due to this, QNX Neutrino RTOS boot images for a target device running Qt must meet a couple of requirements to ensure that Qt works as expected. The sections below list the crucial parts for Qt.</db:para>
<db:section xml:id="qnx-screen-graphics-subsystem">
<db:title>QNX Screen Graphics Subsystem</db:title>
<db:para>Before any Qt application can be started, the <db:link xlink:href="http://www.qnx.com/developers/docs/660/topic/com.qnx.doc.screen/topic/manual/cscreen_about.html">QNX Screen Graphics Subsystem</db:link> (also called just &quot;Screen&quot;) must be running. The Screen consists not only of a driver, but also includes several utilities and other services which are used by Qt. This includes processing of mouse and keyboard events as well. You can ensure that the Screen is configured and running correctly by verifying that a graphics application, like gles2-gears, can be started and runs without problems. Most of the recent sample OS build scripts in the SDP include sections with all components and start commands for the Screen. Use them as a reference.</db:para>
</db:section>
<db:section xml:id="ipv6-support">
<db:title>IPv6 Support</db:title>
<db:para><db:link xlink:href="qtnetwork-index.xml">Qt's networking stack</db:link> requires IPv6 support to be enabled, independent of whether the actual networking uses IPv4 or IPv6. That means, that io-pkt-v6-hc must be running, <db:emphasis>not</db:emphasis> io-pkt-v4.</db:para>
</db:section>
<db:section xml:id="random-device-op-op-dev-op-op-random">
<db:title>Random device /dev/random</db:title>
<db:para>Qt requires /dev/random to be present and functional. Start it before starting any Qt application or during the system startup:</db:para>
<db:programlisting language="cpp">random -p
waitfor /dev/random
</db:programlisting>
</db:section>
<db:section xml:id="system-logger">
<db:title>System Logger</db:title>
<db:para>QNX provides the <db:link xlink:href="http://www.qnx.com/developers/docs/660/topic/com.qnx.doc.neutrino.utilities/topic/s/slogger2.html">slog2</db:link> logging framework tailored to specifics of embedded systems. The major advantage of it is a much better performance than a text output to files. Qt uses this framework by default for any logging output going through <db:link xlink:href="qdebug.xml">QDebug</db:link> on QNX Neutrino RTOS. The slog2 service should be started during the system startup. The slog2 also relies on the existence of the /tmp folder which has to be configured as well, for example:</db:para>
<db:programlisting language="cpp">[type=link] /tmp=/dev/shmem
display_msg &quot;Starting slogger2...&quot;
slogger2 -U1001:1000 &amp;
waitfor /dev/slog2
</db:programlisting>
</db:section>
<db:section xml:id="environment-variables">
<db:title>Environment Variables</db:title>
<db:para>There is a set of environment variables you should set when starting a Qt application. Most of them are actually not specific to QNX Neutrino RTOS. They are still mentioned here, since knowing them just saves a lot of time in case of problems.</db:para>
<db:section xml:id="qt-runtime-location">
<db:title>Qt Runtime Location</db:title>
<db:para>If you did not build Qt with RPATH enabled, you can place the Qt runtime components in any folder in the file system. The following environment variables should point to valid locations assuming that the Qt installation is located in &lt;Qt-install-path&gt;:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>LD_LIBRARY_PATH should contain the path to the Qt libraries in &lt;Qt-install-path&gt;/lib</db:para>
</db:listitem>
<db:listitem>
<db:para>QT_PLUGIN_PATH defines where the Qt plug-ins are located. It should be set to &lt;Qt-install-path&gt;/plugins</db:para>
</db:listitem>
<db:listitem>
<db:para>QML2_IMPORT_PATH defines where the Qt Quick 2 plug-ins are located. It should be set to &lt;Qt-install-path&gt;/qml</db:para>
</db:listitem>
<db:listitem>
<db:para>QML_IMPORT_PATH is required only when using the Qt Quick 1 compatibility module. It should be set to &lt;Qt-install-path&gt;/imports</db:para>
</db:listitem>
<db:listitem>
<db:para>If Qt does not use fontconfig, you have to specify the path to the fonts provided in Qt and set QT_QPA_FONTDIR to &lt;Qt-install-path&gt;/lib/fonts</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="physical-screen-size">
<db:title>Physical Screen Size</db:title>
<db:para>Qt needs information about the physical dimensions of the attached display to determine DPI values and thus set correct font sizes. Usually, this information is provided by the Screen. In some cases you may see an invalid screen size such as 0mmx0mm. In such a case Qt requires an environment variable QQNX_PHYSICAL_SCREEN_SIZE set to according values to get the required information. If Qt applications exit with an error message saying that the physical screen size couldn't be determined, set the variable like this before starting the Qt application:</db:para>
<db:programlisting language="cpp">export QQNX_PHYSICAL_SCREEN_SIZE=150,100
</db:programlisting>
<db:para>to inform Qt that the screen has a width of 150mm and a height of 100mm in this particular case. The physical screen size is measured in millimeters (mm) and should correspond the actual physical size of the display in the final configuration.</db:para>
</db:section>
<db:section xml:id="troubleshooting-the-first-start-of-a-qt-application">
<db:title>Troubleshooting the First Start of a Qt Application</db:title>
<db:para>The only drawback of the large flexibility provided by QNX Neutrino RTOS is a risk that something is still different on your target than it is expect to be by Qt. This is a very common reason why the first Qt application on a new target fails to start. A few generic environment variables can help finding the root cause for problems:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>Setting QT_DEBUG_PLUGINS to 1 helps to see why the QPA plug-in cannot load.</db:para>
</db:listitem>
<db:listitem>
<db:para>Setting LD_DEBUG to 1 helps to see where and how shared libraries are loaded. This can be used in combination with QT_DEBUG_PLUGINS when a plug-in cannot be loaded because it cannot load some other shared libraries.</db:para>
</db:listitem>
<db:listitem>
<db:para>Setting QT_LOGGING_TO_CONSOLE will force sending all logging message to stderr instead of slog2. This is very handy to analyze application startup problems, since you do not need to use another tool to see the messages.</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
</db:section>
<db:section xml:id="third-party-libraries">
<db:title>Third Party Libraries</db:title>
<db:para>Make sure that your system image contains the following additional 3rd-party libraries which are not always included in minimal QNX Neutrino RTOS images:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>libfontconfig (provided in addition to a standard SDP 6.6 installation)</db:para>
</db:listitem>
<db:listitem>
<db:para>libfreetype</db:para>
</db:listitem>
<db:listitem>
<db:para>libiconv</db:para>
</db:listitem>
<db:listitem>
<db:para>libicui18n</db:para>
</db:listitem>
<db:listitem>
<db:para>libicudata</db:para>
</db:listitem>
<db:listitem>
<db:para>libicuuc</db:para>
</db:listitem>
<db:listitem>
<db:para>libpng14</db:para>
</db:listitem>
<db:listitem>
<db:para>libxml2</db:para>
</db:listitem>
<db:listitem>
<db:para>libsqlite3</db:para>
</db:listitem>
<db:listitem>
<db:para>libssl</db:para>
</db:listitem>
<db:listitem>
<db:para>libcrypto</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>Please note that the above list is not a full list of shared libraries used by Qt on QNX Neutrino OS. Quite some shared libraries are already available in typical OS images or included by other parts of the system, e.g. by the Screen.</db:para>
</db:section>
<db:section xml:id="accessing-environment-variables">
<db:title>Accessing Environment Variables</db:title>
<db:para>setconf and getconf are required to access POSIX environment variables, especially for the host name and time and date.</db:para>
</db:section>
</db:section>
<db:section xml:id="qt-creator-target-requirements">
<db:title>Qt Creator Target Requirements</db:title>
<db:para>A QNX Neutrino RTOS target used for development with Qt Creator should provide a few additional command line tools and services.</db:para>
<db:section xml:id="ssh">
<db:title>SSH</db:title>
<db:para>Deployment and remote application startup relies on SSH. The SSH daemon (sshd) must be installed and running during the system startup. Please note that it requires /dev/random which was already mentioned. It also expects specific access rights to be set correctly to its configuration files. The latter makes it impossible starting SSH from a file system which does not have full access rights support, for example, FAT.</db:para>
</db:section>
<db:section xml:id="scp-and-sftp">
<db:title>SCP and SFTP</db:title>
<db:para>scp and sftp utilities are used by Qt Creator for deployment and should be available on the target. Additionally, inetd daemon has to be started at the system startup which then launches according services, including FTP when needed.</db:para>
</db:section>
<db:section xml:id="qnx-tools-for-remote-debugging">
<db:title>QNX Tools for Remote Debugging</db:title>
<db:para>Remote debugging requires the pdebug (<db:link xlink:href="http://www.qnx.com/developers/docs/660/topic/com.qnx.doc.ide.userguide/topic/debug_Base_.html">process-level debugger</db:link>) to be running on the development device. It is usually started by the qconn process which also provides various process information to Qt Creator. Generally, Qt Creator uses the same remote debugging interfaces as the QNX Momentics IDE provided in the SDP. See the according <db:link xlink:href="http://www.qnx.com/developers/docs/660/topic/com.qnx.doc.ide.userguide/topic/debug_test_debug.html">documentation</db:link> for more details.</db:para>
</db:section>
<db:section xml:id="other-utilities-on-the-target-device">
<db:title>Other Utilities on the Target Device</db:title>
<db:para>Most of the OS build scripts include a set of standard command line utilities. A few more utilities are expected by Qt Creator and should be provided on a target:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>printf</db:para>
</db:listitem>
<db:listitem>
<db:para>awk</db:para>
</db:listitem>
<db:listitem>
<db:para>ps</db:para>
</db:listitem>
<db:listitem>
<db:para>tar</db:para>
</db:listitem>
<db:listitem>
<db:para>zip</db:para>
</db:listitem>
<db:listitem>
<db:para>unzip</db:para>
</db:listitem>
<db:listitem>
<db:para>sed</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>Run the test when you configure a new target device in Qt Creator to verify that all required components are available and running.</db:para>
</db:section>
<db:section xml:id="deployment-destination-folder">
<db:title>Deployment Destination Folder</db:title>
<db:para>Qt Creator deploys an application to the target device before starting it remotely. On most embedded devices, it is just copying application binaries and related data files to a folder on the target device. The challenge herewith is that there is no standard so far how this folder is called and where it is located. Quite a few configurations use /tmp for this, which is often mapped to a RAM disk. This case causes a lot of confusion since deployed applications disappear on the next device shutdown. Another popular target is /opt. This folder is located in a read-only partition on many systems making deployment impossible. Make sure that you use a destination folder which meets your needs. You can set it in the install.path variable in the .pro file of your project, see <db:link xlink:href="qmake-advanced-usage.xml#installing-files">Installing Files</db:link> in the <db:link xlink:href="qmake-manual.xml">QMake</db:link> documentation for more details.</db:para>
</db:section>
</db:section>
</db:article>
