<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>OpacityMask QML Type</db:title>
<db:productname>QtGraphicalEffects</db:productname>
<db:edition>Qt 5.8.0 Reference Documentation</db:edition>
<db:titleabbrev>Qt Graphical Effects Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Masks the source item with another item.</db:para>
<db:para>This type was introduced in QtGraphicalEffects 1.0.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Import Statement</db:term>
<db:listitem>
<db:para>import QtGraphicalEffects 1.0</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Since</db:term>
<db:listitem>
<db:para>QtGraphicalEffects 1.0</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Inherits</db:term>
<db:listitem>
<db:para><db:link xlink:href="qml-qtquick-item.xml">Item</db:link></db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Group</db:term>
<db:listitem>
<db:para>OpacityMask is part of <db:simplelist><db:member>qtgraphicaleffects-mask</db:member></db:simplelist>
</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Source</db:para>
</db:th>
<db:th>
<db:para>MaskSource</db:para>
</db:th>
<db:th>
<db:para>Effect applied</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/Original_bug.png"/>
</db:imageobject>
</db:mediaobject>
</db:td>
<db:td>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/OpacityMask_mask.png"/>
</db:imageobject>
</db:mediaobject>
</db:td>
<db:td>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/OpacityMask_bug.png"/>
</db:imageobject>
</db:mediaobject>
</db:td>
</db:tr>
</db:informaltable>
<db:note>
<db:para>This effect is available when running with OpenGL.</db:para>
</db:note>
<db:section xml:id="example">
<db:title>Example</db:title>
<db:para>The following example shows how to apply the effect.</db:para>
<db:programlisting language="qml">import QtQuick 2.0
import QtGraphicalEffects 1.0

Item {
    width: 300
    height: 300

    Image {
        id: bug
        source: &quot;images/bug.jpg&quot;
        sourceSize: Qt.size(parent.width, parent.height)
        smooth: true
        visible: false
    }

    Image {
        id: mask
        source: &quot;images/butterfly.png&quot;
        sourceSize: Qt.size(parent.width, parent.height)
        smooth: true
        visible: false
    }

    OpacityMask {
        anchors.fill: bug
        source: bug
        maskSource: mask
    }
}
</db:programlisting>
</db:section>
</db:section>
<db:section xml:id="property-documentation">
<db:title>Property Documentation</db:title>
<db:section xml:id="cached-prop">
<db:title>cached : bool</db:title>
<db:para>This property allows the effect output pixels to be cached in order to improve the rendering performance.</db:para>
<db:para>Every time the source or effect properties are changed, the pixels in the cache must be updated. Memory consumption is increased, because an extra buffer of memory is required for storing the effect output.</db:para>
<db:para>It is recommended to disable the cache when the source or the effect properties are animated.</db:para>
<db:para>By default, the property is set to <db:code>false</db:code>.</db:para>
<db:note>
<db:para>It is not supported to let the effect include itself, for instance by setting <db:link xlink:href="qml-qtgraphicaleffects-opacitymask.xml#maskSource-prop">maskSource</db:link> to the effect's parent.</db:para>
</db:note>
</db:section>
<db:section xml:id="invert-prop">
<db:title>[since 5.7] invert : bool</db:title>
<db:para>This property controls how the alpha values of the sourceMask will behave.</db:para>
<db:para>If this property is <db:code>false</db:code>, the resulting opacity is the source alpha multiplied with the mask alpha, <db:code>As * Am</db:code>.</db:para>
<db:para>If this property is <db:code>true</db:code>, the resulting opacity is the source alpha multiplied with the inverse of the mask alpha, <db:code>As * (1 - Am)</db:code>.</db:para>
<db:para>The default is <db:code>false</db:code>.</db:para>
<db:para>This property was introduced in Qt 5.7.</db:para>
</db:section>
<db:section xml:id="maskSource-prop">
<db:title>maskSource : variant</db:title>
<db:para>This property defines the item that is going to be used as the mask. The mask item gets rendered into an intermediate pixel buffer and the alpha values from the result are used to determine the source item's pixels visibility in the display.</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Original</db:para>
</db:th>
<db:th>
<db:para>Mask</db:para>
</db:th>
<db:th>
<db:para>Effect applied</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/Original_bug.png"/>
</db:imageobject>
</db:mediaobject>
</db:td>
<db:td>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/OpacityMask_mask.png"/>
</db:imageobject>
</db:mediaobject>
</db:td>
<db:td>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/OpacityMask_bug.png"/>
</db:imageobject>
</db:mediaobject>
</db:td>
</db:tr>
</db:informaltable>
</db:section>
<db:section xml:id="source-prop">
<db:title>source : variant</db:title>
<db:para>This property defines the source item that is going to be masked.</db:para>
<db:note>
<db:para>It is not supported to let the effect include itself, for instance by setting source to the effect's parent.</db:para>
</db:note>
</db:section>
</db:section>
</db:article>
