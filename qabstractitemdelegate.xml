<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en_US">
<db:info>
<db:title>QAbstractItemDelegate Class</db:title>
<db:productname>QtWidgets</db:productname>
<db:edition>Qt 5.3.2 Reference Documentation</db:edition>
<db:titleabbrev>Qt Widgets Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>The <db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link> class is used to display and edit data items from a model.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Header</db:term>
<db:listitem>
<db:para>QAbstractItemDelegate</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>qmake</db:term>
<db:listitem>
<db:para>QT += widgets</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Inherits</db:term>
<db:listitem>
<db:para><db:link xlink:href="qobject.xml" xlink:role="class">QObject</db:link></db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Inherited By</db:term>
<db:listitem>
<db:para><db:link xlink:href="qitemdelegate.xml" xlink:role="class">QItemDelegate</db:link> and <db:link xlink:href="qstyleditemdelegate.xml" xlink:role="class">QStyledItemDelegate</db:link></db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Group</db:term>
<db:listitem>
<db:para>QAbstractItemDelegate is part of <db:simplelist><db:member>model-view</db:member></db:simplelist>
</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:para>A <db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link> provides the interface and common functionality for delegates in the model/view architecture. Delegates display individual items in views, and handle the editing of model data.</db:para>
<db:para>The <db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link> class is one of the <db:link xlink:href="model-view-programming.xml#the-model-view-classes">Model/View Classes</db:link> and is part of Qt's <db:link xlink:href="model-view-programming.xml">model/view framework</db:link>.</db:para>
<db:para>To render an item in a custom way, you must implement <db:link xlink:href="qabstractitemdelegate.xml#paint">paint</db:link>() and <db:link xlink:href="qabstractitemdelegate.xml#sizeHint">sizeHint</db:link>(). The <db:link xlink:href="qitemdelegate.xml">QItemDelegate</db:link> class provides default implementations for these functions; if you do not need custom rendering, subclass that class instead.</db:para>
<db:para>We give an example of drawing a progress bar in items; in our case for a package management program.</db:para>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/widgetdelegate.png"/>
</db:imageobject>
</db:mediaobject>
<db:para>We create the <db:code>WidgetDelegate</db:code> class, which inherits from <db:link xlink:href="qstyleditemdelegate.xml">QStyledItemDelegate</db:link>. We do the drawing in the <db:link xlink:href="qabstractitemdelegate.xml#paint">paint</db:link>() function:</db:para>
<db:programlisting language="cpp">void WidgetDelegate::paint(QPainter *painter, const QStyleOptionViewItem &amp;option,
                           const QModelIndex &amp;index) const
{
    if (index.column() == 1) {
        int progress = index.data().toInt();

        QStyleOptionProgressBar progressBarOption;
        progressBarOption.rect = option.rect;
        progressBarOption.minimum = 0;
        progressBarOption.maximum = 100;
        progressBarOption.progress = progress;
        progressBarOption.text = QString::number(progress) + &quot;%&quot;;
        progressBarOption.textVisible = true;

        QApplication::style()-&gt;drawControl(QStyle::CE_ProgressBar,
                                           &amp;progressBarOption, painter);
    } else
        QStyledItemDelegate::paint(painter, option, index);

</db:programlisting>
<db:para>Notice that we use a <db:link xlink:href="qstyleoptionprogressbar.xml">QStyleOptionProgressBar</db:link> and initialize its members. We can then use the current <db:link xlink:href="qstyle.xml">QStyle</db:link> to draw it.</db:para>
<db:para>To provide custom editing, there are two approaches that can be used. The first approach is to create an editor widget and display it directly on top of the item. To do this you must reimplement <db:link xlink:href="qabstractitemdelegate.xml#createEditor">createEditor</db:link>() to provide an editor widget, <db:link xlink:href="qabstractitemdelegate.xml#setEditorData">setEditorData</db:link>() to populate the editor with the data from the model, and <db:link xlink:href="qabstractitemdelegate.xml#setModelData">setModelData</db:link>() so that the delegate can update the model with data from the editor.</db:para>
<db:para>The second approach is to handle user events directly by reimplementing <db:link xlink:href="qabstractitemdelegate.xml#editorEvent">editorEvent</db:link>().</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="model-view-programming.xml">Model/View Programming</db:link></db:member>
<db:member><db:link xlink:href="qitemdelegate.xml">QItemDelegate</db:link></db:member>
<db:member><db:link xlink:href="qtwidgets-itemviews-pixelator-example.xml">Pixelator Example</db:link></db:member>
<db:member><db:link xlink:href="qstyleditemdelegate.xml">QStyledItemDelegate</db:link></db:member>
<db:member><db:link xlink:href="qstyle.xml">QStyle</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="member-type-documentation">
<db:title>Member Type Documentation</db:title>
<db:section xml:id="EndEditHint-enum">
<db:title>enum QAbstractItemDelegate::EndEditHint</db:title>
<db:para>This enum describes the different hints that the delegate can give to the model and view components to make editing data in a model a comfortable experience for the user.</db:para>
<db:informaltable>
<db:thead>
<db:tr>
<db:th>Constant</db:th>
<db:th>Value</db:th>
<db:th>Description</db:th>
</db:tr>
</db:thead>
<db:tr>
<db:td>
<db:para><db:code><db:emphasis role="bold"><db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link></db:emphasis>::NoHint</db:code></db:para>
</db:td>
<db:td><db:code>0</db:code></db:td>
<db:td>
<db:para>There is no recommended action to be performed.</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>These hints let the delegate influence the behavior of the view:</db:para>
<db:informaltable>
<db:thead>
<db:tr>
<db:th>Constant</db:th>
<db:th>Value</db:th>
<db:th>Description</db:th>
</db:tr>
</db:thead>
<db:tr>
<db:td>
<db:para><db:code><db:emphasis role="bold"><db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link></db:emphasis>::EditNextItem</db:code></db:para>
</db:td>
<db:td><db:code>1</db:code></db:td>
<db:td>
<db:para>The view should use the delegate to open an editor on the next item in the view.</db:para>
</db:td>
</db:tr>
<db:tr>
<db:td>
<db:para><db:code><db:emphasis role="bold"><db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link></db:emphasis>::EditPreviousItem</db:code></db:para>
</db:td>
<db:td><db:code>2</db:code></db:td>
<db:td>
<db:para>The view should use the delegate to open an editor on the previous item in the view.</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>Note that custom views may interpret the concepts of next and previous differently.</db:para>
<db:para>The following hints are most useful when models are used that cache data, such as those that manipulate data locally in order to increase performance or conserve network bandwidth.</db:para>
<db:informaltable>
<db:thead>
<db:tr>
<db:th>Constant</db:th>
<db:th>Value</db:th>
<db:th>Description</db:th>
</db:tr>
</db:thead>
<db:tr>
<db:td>
<db:para><db:code><db:emphasis role="bold"><db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link></db:emphasis>::SubmitModelCache</db:code></db:para>
</db:td>
<db:td><db:code>3</db:code></db:td>
<db:td>
<db:para>If the model caches data, it should write out cached data to the underlying data store.</db:para>
</db:td>
</db:tr>
<db:tr>
<db:td>
<db:para><db:code><db:emphasis role="bold"><db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link></db:emphasis>::RevertModelCache</db:code></db:para>
</db:td>
<db:td><db:code>4</db:code></db:td>
<db:td>
<db:para>If the model caches data, it should discard cached data and replace it with data from the underlying data store.</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>Although models and views should respond to these hints in appropriate ways, custom components may ignore any or all of them if they are not relevant.</db:para>
</db:section>
</db:section>
<db:section xml:id="member-function-documentation">
<db:title>Member Function Documentation</db:title>
<db:section xml:id="QAbstractItemDelegate">
<db:title>[explicit] QAbstractItemDelegate::QAbstractItemDelegate(QObject *<db:emphasis>parent</db:emphasis> = 0)</db:title>
<db:para>Creates a new abstract item delegate with the given <db:code role="parameter">parent</db:code>.</db:para>
</db:section>
<db:section xml:id="dtor.QAbstractItemDelegate">
<db:title>[virtual noexcept] QAbstractItemDelegate::~QAbstractItemDelegate()</db:title>
<db:para>Destroys the abstract item delegate.</db:para>
</db:section>
<db:section xml:id="closeEditor">
<db:title>void QAbstractItemDelegate::closeEditor(QWidget *<db:emphasis>editor</db:emphasis>, QAbstractItemDelegate::EndEditHint <db:emphasis>hint</db:emphasis> = NoHint)</db:title>
<db:para>This signal is emitted when the user has finished editing an item using the specified <db:code role="parameter">editor</db:code>.</db:para>
<db:para>The <db:code role="parameter">hint</db:code> provides a way for the delegate to influence how the model and view behave after editing is completed. It indicates to these components what action should be performed next to provide a comfortable editing experience for the user. For example, if <db:code>EditNextItem</db:code> is specified, the view should use a delegate to open an editor on the next item in the model.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qabstractitemdelegate.xml#EndEditHint-enum">EndEditHint</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="commitData">
<db:title>void QAbstractItemDelegate::commitData(QWidget *<db:emphasis>editor</db:emphasis>)</db:title>
<db:para>This signal must be emitted when the <db:code role="parameter">editor</db:code> widget has completed editing the data, and wants to write it back into the model.</db:para>
</db:section>
<db:section xml:id="createEditor">
<db:title>[virtual] QWidget *QAbstractItemDelegate::createEditor(QWidget *<db:emphasis>parent</db:emphasis>, const QStyleOptionViewItem &amp;<db:emphasis>option</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>) const</db:title>
<db:para>Returns the editor to be used for editing the data item with the given <db:code role="parameter">index</db:code>. Note that the index contains information about the model being used. The editor's parent widget is specified by <db:code role="parameter">parent</db:code>, and the item options by <db:code role="parameter">option</db:code>.</db:para>
<db:para>The base implementation returns 0. If you want custom editing you will need to reimplement this function.</db:para>
<db:para>The returned editor widget should have <db:link xlink:href="qt.xml#FocusPolicy-enum">Qt::StrongFocus</db:link>; otherwise, <db:link xlink:href="qmouseevent.xml">QMouseEvent</db:link>s received by the widget will propagate to the view. The view's background will shine through unless the editor paints its own background (e.g., with <db:link xlink:href="">setAutoFillBackground()</db:link>).</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qabstractitemdelegate.xml#destroyEditor">destroyEditor</db:link>()</db:member>
<db:member><db:link xlink:href="qabstractitemdelegate.xml#setModelData">setModelData</db:link>()</db:member>
<db:member><db:link xlink:href="qabstractitemdelegate.xml#setEditorData">setEditorData</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="destroyEditor">
<db:title>[virtual, since 5.0] void QAbstractItemDelegate::destroyEditor(QWidget *<db:emphasis>editor</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>) const</db:title>
<db:para>Called when the <db:code role="parameter">editor</db:code> is no longer needed for editing the data item with the given <db:code role="parameter">index</db:code> and should be destroyed. The default behavior is a call to deleteLater on the editor. It is possible e.g. to avoid this delete by reimplementing this function.</db:para>
<db:para>This function was introduced in Qt 5.0.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qabstractitemdelegate.xml#createEditor">createEditor</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="editorEvent">
<db:title>[virtual] bool QAbstractItemDelegate::editorEvent(QEvent *<db:emphasis>event</db:emphasis>, QAbstractItemModel *<db:emphasis>model</db:emphasis>, const QStyleOptionViewItem &amp;<db:emphasis>option</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>)</db:title>
<db:para>When editing of an item starts, this function is called with the <db:code role="parameter">event</db:code> that triggered the editing, the <db:code role="parameter">model</db:code>, the <db:code role="parameter">index</db:code> of the item, and the <db:code role="parameter">option</db:code> used for rendering the item.</db:para>
<db:para>Mouse events are sent to editorEvent() even if they don't start editing of the item. This can, for instance, be useful if you wish to open a context menu when the right mouse button is pressed on an item.</db:para>
<db:para>The base implementation returns <db:code>false</db:code> (indicating that it has not handled the event).</db:para>
</db:section>
<db:section xml:id="helpEvent">
<db:title>[virtual, since 4.3] bool QAbstractItemDelegate::helpEvent(QHelpEvent *<db:emphasis>event</db:emphasis>, QAbstractItemView *<db:emphasis>view</db:emphasis>, const QStyleOptionViewItem &amp;<db:emphasis>option</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>)</db:title>
<db:para>Whenever a help event occurs, this function is called with the <db:code role="parameter">event</db:code> <db:code role="parameter">view</db:code> <db:code role="parameter">option</db:code> and the <db:code role="parameter">index</db:code> that corresponds to the item where the event occurs.</db:para>
<db:para>Returns <db:code>true</db:code> if the delegate can handle the event; otherwise returns <db:code>false</db:code>. A return value of true indicates that the data obtained using the index had the required role.</db:para>
<db:para>For <db:link xlink:href="qevent.xml#Type-enum">QEvent::ToolTip</db:link> and <db:link xlink:href="qevent.xml#Type-enum">QEvent::WhatsThis</db:link> events that were handled successfully, the relevant popup may be shown depending on the user's system configuration.</db:para>
<db:para>This function was introduced in Qt 4.3.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qhelpevent.xml">QHelpEvent</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="paint">
<db:title>[pure virtual] void QAbstractItemDelegate::paint(QPainter *<db:emphasis>painter</db:emphasis>, const QStyleOptionViewItem &amp;<db:emphasis>option</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>) const</db:title>
<db:para>This pure abstract function must be reimplemented if you want to provide custom rendering. Use the <db:code role="parameter">painter</db:code> and style <db:code role="parameter">option</db:code> to render the item specified by the item <db:code role="parameter">index</db:code>.</db:para>
<db:para>If you reimplement this you must also reimplement <db:link xlink:href="qabstractitemdelegate.xml#sizeHint">sizeHint</db:link>().</db:para>
</db:section>
<db:section xml:id="setEditorData">
<db:title>[virtual] void QAbstractItemDelegate::setEditorData(QWidget *<db:emphasis>editor</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>) const</db:title>
<db:para>Sets the contents of the given <db:code role="parameter">editor</db:code> to the data for the item at the given <db:code role="parameter">index</db:code>. Note that the index contains information about the model being used.</db:para>
<db:para>The base implementation does nothing. If you want custom editing you will need to reimplement this function.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qabstractitemdelegate.xml#setModelData">setModelData</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="setModelData">
<db:title>[virtual] void QAbstractItemDelegate::setModelData(QWidget *<db:emphasis>editor</db:emphasis>, QAbstractItemModel *<db:emphasis>model</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>) const</db:title>
<db:para>Sets the data for the item at the given <db:code role="parameter">index</db:code> in the <db:code role="parameter">model</db:code> to the contents of the given <db:code role="parameter">editor</db:code>.</db:para>
<db:para>The base implementation does nothing. If you want custom editing you will need to reimplement this function.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qabstractitemdelegate.xml#setEditorData">setEditorData</db:link>()</db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="sizeHint">
<db:title>[pure virtual] QSize QAbstractItemDelegate::sizeHint(const QStyleOptionViewItem &amp;<db:emphasis>option</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>) const</db:title>
<db:para>This pure abstract function must be reimplemented if you want to provide custom rendering. The options are specified by <db:code role="parameter">option</db:code> and the model item by <db:code role="parameter">index</db:code>.</db:para>
<db:para>If you reimplement this you must also reimplement <db:link xlink:href="qabstractitemdelegate.xml#paint">paint</db:link>().</db:para>
</db:section>
<db:section xml:id="sizeHintChanged">
<db:title>[since 4.4] void QAbstractItemDelegate::sizeHintChanged(const QModelIndex &amp;<db:emphasis>index</db:emphasis>)</db:title>
<db:para>This signal must be emitted when the <db:link xlink:href="qabstractitemdelegate.xml#sizeHint">sizeHint</db:link>() of <db:code role="parameter">index</db:code> changed.</db:para>
<db:para>Views automatically connect to this signal and relayout items as necessary.</db:para>
<db:para>This function was introduced in Qt 4.4.</db:para>
</db:section>
<db:section xml:id="updateEditorGeometry">
<db:title>[virtual] void QAbstractItemDelegate::updateEditorGeometry(QWidget *<db:emphasis>editor</db:emphasis>, const QStyleOptionViewItem &amp;<db:emphasis>option</db:emphasis>, const QModelIndex &amp;<db:emphasis>index</db:emphasis>) const</db:title>
<db:para>Updates the geometry of the <db:code role="parameter">editor</db:code> for the item with the given <db:code role="parameter">index</db:code>, according to the rectangle specified in the <db:code role="parameter">option</db:code>. If the item has an internal layout, the editor will be laid out accordingly. Note that the index contains information about the model being used.</db:para>
<db:para>The base implementation does nothing. If you want custom editing you must reimplement this function.</db:para>
</db:section>
</db:section>
<db:section xml:id="obsolete">
<db:title>Obsolete Members for QAbstractItemDelegate</db:title>
<db:para><db:emphasis role="bold">The following members of class <db:link xlink:href="qabstractitemdelegate.xml">QAbstractItemDelegate</db:link> are deprecated.</db:emphasis> We strongly advise against using them in new code.</db:para>
<db:section xml:id="obsolete-member-function-documentation">
<db:title>Obsolete Member Function Documentation</db:title>
<db:section xml:id="elidedText">
<db:title>[static, deprecated] QString QAbstractItemDelegate::elidedText(const QFontMetrics &amp;<db:emphasis>fontMetrics</db:emphasis>, int <db:emphasis>width</db:emphasis>, Qt::TextElideMode <db:emphasis>mode</db:emphasis>, const QString &amp;<db:emphasis>text</db:emphasis>)</db:title>
<db:para>This function is deprecated. We strongly advise against using it in new code.</db:para>
<db:para>Use <db:link xlink:href="qfontmetrics.xml#elidedText">QFontMetrics::elidedText</db:link>() instead.</db:para>
<db:para><db:emphasis role="bold">&lt;Unknown command&gt;<db:code>oldcode</db:code></db:emphasis><db:link xlink:href="qfontmetrics.xml">QFontMetrics</db:link> fm = ... <db:link xlink:href="qstring.xml">QString</db:link> str = QAbstractItemDelegate::elidedText(fm, width, mode, text); <db:emphasis role="bold">&lt;Unknown command&gt;<db:code>newcode</db:code></db:emphasis> <db:link xlink:href="qfontmetrics.xml">QFontMetrics</db:link> fm = ... <db:link xlink:href="qstring.xml">QString</db:link> str = fm.elidedText(text, mode, width);</db:para>
</db:section>
</db:section>
</db:section>
</db:article>
