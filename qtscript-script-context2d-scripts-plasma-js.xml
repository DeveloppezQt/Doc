<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Context2D Example</db:title>
<db:productname>QtScript</db:productname>
<db:edition>Qt 5.12.12 Reference Documentation</db:edition>
<db:titleabbrev>QtScript Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>QtScript Reference Documentation.</db:para></db:abstract>
<db:pubdate>2024-12-27</db:pubdate>
<db:date>2024-12-27</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:programlisting language="cpp">var counter = 0;

var PIXEL_SIZE = 4;

var temp_1 = 0;

function init()
{
    setInterval('render()',50);
}

function dist(a, b, c, d)
{
    return Math.sqrt((a - c) * (a - c) + (b - d) * (b - d));
}

function render()
{
    var canvas = document.getElementById('tutorial');
    canvas.resize(128, 128);
    var ctx = canvas.getContext('2d');
    ctx.save();

    var time = counter * 5;

    for( y = 0; y &amp;lt; 128; y+=PIXEL_SIZE) {
        for( x = 0 ; x &amp;lt; 128; x+=PIXEL_SIZE) {

            var temp_val = Math.floor(Math.sin(dist(x + time, y, 128.0, 128.0) / 8.0)
                                      + Math.sin(dist(x, y, 64.0, 64.0) / 8.0)
                                      + Math.sin(dist(x, y + time / 7, 192.0, 64) / 7.0)
                                      + Math.sin(dist(x, y, 192.0, 100.0) / 8.0));

            var temp_col = Math.floor((2 + temp_val) * 50);

            var rand_red = temp_col * 3;
            var rand_green = temp_col  ;
            var rand_blue = 128 - temp_col;

            ctx.fillStyle = &quot;rgb(&quot;+rand_red+&quot;,&quot;+rand_green+&quot;,&quot;+rand_blue+&quot;)&quot;;

            ctx.fillRect(x,y,PIXEL_SIZE,PIXEL_SIZE);
        }
    }

    ctx.restore();
    counter++;

}

init();

</db:programlisting>
</db:article>
