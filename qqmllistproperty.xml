<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>QQmlListProperty Class</db:title>
<db:subtitle>template &lt;typename T&gt; class QQmlListProperty</db:subtitle>
<db:productname>QtQml</db:productname>
<db:edition>Qt 6.8.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Qml Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>The <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> class allows applications to expose list-like properties of <db:link xlink:href="qobject.xml">QObject</db:link>-derived classes to QML.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Header</db:term>
<db:listitem>
<db:para>QQmlListProperty</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>CMake</db:term>
<db:listitem>
<db:para>find_package(Qt6 REQUIRED COMPONENTS Qml)</db:para>
<db:para>target_link_libraries(mytarget PRIVATE Qt6::Qml)</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>qmake</db:term>
<db:listitem>
<db:para>QT += qml</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:para>QML has many list properties, where more than one object value can be assigned. The use of a list property from QML looks like this:</db:para>
<db:programlisting language="cpp">FruitBasket {
    fruit: [
        Apple {},
        Orange{},
        Banana{}
    ]
}
</db:programlisting>
<db:para>The <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> encapsulates a group of function pointers that represent the set of actions QML can perform on the list - adding items, retrieving items and clearing the list. In the future, additional operations may be supported. All list properties must implement the append operation, but the rest are optional.</db:para>
<db:para>To provide a list property, a C++ class must implement the operation callbacks, and then return an appropriate <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> value from the property getter. List properties should have no setter. In the example above, the <db:link xlink:href="qobject.xml#Q_PROPERTY">Q_PROPERTY</db:link>() declarative will look like this:</db:para>
<db:programlisting language="cpp">Q_PROPERTY(QQmlListProperty&lt;Fruit&gt; fruit READ fruit)
</db:programlisting>
<db:para>QML list properties are type-safe - in this case <db:code>Fruit</db:code> is a <db:link xlink:href="qobject.xml">QObject</db:link> type that <db:code>Apple</db:code>, <db:code>Orange</db:code> and <db:code>Banana</db:code> all derive from.</db:para>
<db:para>You can use <db:link xlink:href="qqmllistreference.xml">QQmlListReference</db:link> to manipulate a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> from C++ using a slightly more ergonomic API, at the cost of some overhead.</db:para>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qtqml-tutorials-extending-qml-example.xml#chapter-5-using-list-property-types">Chapter 5: Using List Property Types</db:link></db:member>
<db:member><db:link xlink:href="qqmllistreference.xml">QQmlListReference</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="member-type-documentation">
<db:title>Member Type Documentation</db:title>
<db:section xml:id="AppendFunction-typedef">
<db:title>[alias] QQmlListProperty::AppendFunction</db:title>
<db:para>Synonym for <db:code>void (*)(QQmlListProperty&lt;T&gt; *property, T *value)</db:code>.</db:para>
<db:para>Append the <db:code role="parameter">value</db:code> to the list <db:code role="parameter">property</db:code>.</db:para>
</db:section>
<db:section xml:id="AtFunction-typedef">
<db:title>[alias] QQmlListProperty::AtFunction</db:title>
<db:para>Synonym for <db:code>T *(*)(QQmlListProperty&lt;T&gt; *property, qsizetype index)</db:code>.</db:para>
<db:para>Return the element at position <db:code role="parameter">index</db:code> in the list <db:code role="parameter">property</db:code>.</db:para>
</db:section>
<db:section xml:id="ClearFunction-typedef">
<db:title>[alias] QQmlListProperty::ClearFunction</db:title>
<db:para>Synonym for <db:code>void (*)(QQmlListProperty&lt;T&gt; *property)</db:code>.</db:para>
<db:para>Clear the list <db:code role="parameter">property</db:code>.</db:para>
</db:section>
<db:section xml:id="CountFunction-typedef">
<db:title>[alias] QQmlListProperty::CountFunction</db:title>
<db:para>Synonym for <db:code>qsizetype (*)(QQmlListProperty&lt;T&gt; *property)</db:code>.</db:para>
<db:para>Return the number of elements in the list <db:code role="parameter">property</db:code>.</db:para>
</db:section>
<db:section xml:id="RemoveLastFunction-typedef">
<db:title>[alias] QQmlListProperty::RemoveLastFunction</db:title>
<db:para>Synonym for <db:code>void (*)(QQmlListProperty&lt;T&gt; *property)</db:code>.</db:para>
<db:para>Remove the last element from the list <db:code role="parameter">property</db:code>.</db:para>
</db:section>
<db:section xml:id="ReplaceFunction-typedef">
<db:title>[alias] QQmlListProperty::ReplaceFunction</db:title>
<db:para>Synonym for <db:code>void (*)(QQmlListProperty&lt;T&gt; *property, qsizetype index, T *value)</db:code>.</db:para>
<db:para>Replace the element at position <db:code role="parameter">index</db:code> in the list <db:code role="parameter">property</db:code> with <db:code role="parameter">value</db:code>.</db:para>
</db:section>
</db:section>
<db:section xml:id="member-function-documentation">
<db:title>Member Function Documentation</db:title>
<db:section xml:id="QQmlListProperty-1">
<db:title>QQmlListProperty::QQmlListProperty(QObject *<db:emphasis>object</db:emphasis>, QList&lt;T *&gt; *<db:emphasis>list</db:emphasis>)</db:title>
<db:para>Convenience constructor for making a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> value from an existing <db:link xlink:href="qlist.xml">QList</db:link> <db:code role="parameter">list</db:code>. The <db:code role="parameter">object</db:code> owning the list and the <db:code role="parameter">list</db:code> itself must be provided and kept alive as long as you are holding a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> referring to them.</db:para>
<db:para>This is the easiest and safest way to provide a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> backed by a <db:link xlink:href="qlist.xml">QList</db:link> and should be used in most cases. A typical invocation looks like this:</db:para>
<db:programlisting language="cpp">QQmlListProperty&lt;PieSlice&gt; PieChart::slices()
{
    return QQmlListProperty&lt;PieSlice&gt;(this, &amp;m_slices);
}
</db:programlisting>
</db:section>
<db:section xml:id="QQmlListProperty-2">
<db:title>QQmlListProperty::QQmlListProperty(QObject *<db:emphasis>object</db:emphasis>, void *<db:emphasis>data</db:emphasis>, QQmlListProperty&lt;T&gt;::CountFunction <db:emphasis>count</db:emphasis>, QQmlListProperty&lt;T&gt;::AtFunction <db:emphasis>at</db:emphasis>)</db:title>
<db:para>Construct a readonly <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> from a set of operation functions <db:code role="parameter">count</db:code> and <db:code role="parameter">at</db:code>. An opaque <db:code role="parameter">data</db:code> handle may be passed which can be accessed from within the operation functions. The list property remains valid while the <db:code role="parameter">object</db:code> owning the list property exists.</db:para>
</db:section>
<db:section xml:id="QQmlListProperty-3">
<db:title>QQmlListProperty::QQmlListProperty(QObject *<db:emphasis>object</db:emphasis>, void *<db:emphasis>data</db:emphasis>, QQmlListProperty&lt;T&gt;::AppendFunction <db:emphasis>append</db:emphasis>, QQmlListProperty&lt;T&gt;::CountFunction <db:emphasis>count</db:emphasis>, QQmlListProperty&lt;T&gt;::AtFunction <db:emphasis>at</db:emphasis>, QQmlListProperty&lt;T&gt;::ClearFunction <db:emphasis>clear</db:emphasis>)</db:title>
<db:para>Construct a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> from a set of operation functions <db:code role="parameter">append</db:code>, <db:code role="parameter">count</db:code>, <db:code role="parameter">at</db:code>, and <db:code role="parameter">clear</db:code>. An opaque <db:code role="parameter">data</db:code> handle may be passed which can be accessed from within the operation functions. The list property remains valid while the <db:code role="parameter">object</db:code> owning the list property exists.</db:para>
<db:para>Null pointers can be passed for any function. If any null pointers are passed in, the list will be neither designable nor alterable by the debugger. It is recommended to provide valid pointers for all functions.</db:para>
<db:note>
<db:para>The resulting <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> will synthesize the removeLast() and replace() methods using <db:code role="parameter">count</db:code>, <db:code role="parameter">at</db:code>, <db:code role="parameter">clear</db:code>, and <db:code role="parameter">append</db:code> if all of those are given. This is slow. If you intend to manipulate the list beyond clearing it, you should explicitly provide these methods.</db:para>
</db:note>
</db:section>
<db:section xml:id="QQmlListProperty-4">
<db:title>QQmlListProperty::QQmlListProperty(QObject *<db:emphasis>object</db:emphasis>, void *<db:emphasis>data</db:emphasis>, QQmlListProperty&lt;T&gt;::AppendFunction <db:emphasis>append</db:emphasis>, QQmlListProperty&lt;T&gt;::CountFunction <db:emphasis>count</db:emphasis>, QQmlListProperty&lt;T&gt;::AtFunction <db:emphasis>at</db:emphasis>, QQmlListProperty&lt;T&gt;::ClearFunction <db:emphasis>clear</db:emphasis>, QQmlListProperty&lt;T&gt;::ReplaceFunction <db:emphasis>replace</db:emphasis>, QQmlListProperty&lt;T&gt;::RemoveLastFunction <db:emphasis>removeLast</db:emphasis>)</db:title>
<db:para>Construct a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> from a set of operation functions <db:code role="parameter">append</db:code>, <db:code role="parameter">count</db:code>, <db:code role="parameter">at</db:code>, <db:code role="parameter">clear</db:code>, <db:code role="parameter">replace</db:code>, and removeLast. An opaque <db:code role="parameter">data</db:code> handle may be passed which can be accessed from within the operation functions. The list property remains valid while the <db:code role="parameter">object</db:code> owning the list property exists.</db:para>
<db:para>Null pointers can be passed for any function, causing the respective function to be synthesized using the others, if possible. <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> can synthesize</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:code role="parameter">clear</db:code> using <db:code role="parameter">count</db:code> and <db:code role="parameter">removeLast</db:code></db:para>
</db:listitem>
<db:listitem>
<db:para><db:code role="parameter">replace</db:code> using <db:code role="parameter">count</db:code>, <db:code role="parameter">at</db:code>, <db:code role="parameter">clear</db:code>, and <db:code role="parameter">append</db:code></db:para>
</db:listitem>
<db:listitem>
<db:para><db:code role="parameter">replace</db:code> using <db:code role="parameter">count</db:code>, <db:code role="parameter">at</db:code>, <db:code role="parameter">removeLast</db:code>, and <db:code role="parameter">append</db:code></db:para>
</db:listitem>
<db:listitem>
<db:para><db:code role="parameter">removeLast</db:code> using <db:code role="parameter">count</db:code>, <db:code role="parameter">at</db:code>, <db:code role="parameter">clear</db:code>, and <db:code role="parameter">append</db:code></db:para>
</db:listitem>
</db:itemizedlist>
<db:para>if those are given. This is slow, but if your list does not natively provide faster options for these primitives, you may want to use the synthesized ones.</db:para>
<db:para>Furthermore, if either of <db:code role="parameter">count</db:code>, <db:code role="parameter">at</db:code>, <db:code role="parameter">append</db:code>, and <db:code role="parameter">clear</db:code> are neither given explicitly nor synthesized, the list will be neither designable nor alterable by the debugger. It is recommended to provide enough valid pointers to avoid this situation.</db:para>
</db:section>
<db:section xml:id="operator-eq-eq">
<db:title>bool QQmlListProperty::operator==(const QQmlListProperty&lt;T&gt; &amp;<db:emphasis>other</db:emphasis>) const</db:title>
<db:para>Returns true if this <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> is equal to <db:code role="parameter">other</db:code>, otherwise false.</db:para>
</db:section>
</db:section>
<db:section xml:id="member-variable-documentation">
<db:title>Member Variable Documentation</db:title>
<db:section xml:id="data-var">
<db:title>void * QQmlListProperty::data</db:title>
<db:para>This field can hold an arbitrary data pointer</db:para>
<db:para>If you manually implement the accessor methods and need to store custom data, you can pass an arbitrary pointer to the <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> constructor and retrieve it from the <db:emphasis>data</db:emphasis> field when accessing the same <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> later.</db:para>
<db:para>A <db:link xlink:href="qqmllistproperty.xml#QQmlListProperty-1">QQmlListProperty constructed from a QList pointer</db:link> uses this field to store the pointer to the list itself, as it cannot directly access the list contents from the owner.</db:para>
</db:section>
<db:section xml:id="object-var">
<db:title>QObject * QQmlListProperty::object</db:title>
<db:para>This field holds the <db:emphasis>owner</db:emphasis> of the <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link></db:para>
<db:para>When manually implementing the accessor methods, you may need to use this field for retrieving the content of the manipulated list.</db:para>
</db:section>
</db:section>
<db:section xml:id="macro-documentation">
<db:title>Macro Documentation</db:title>
<db:section xml:id="QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_APPEND">
<db:title>QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_APPEND</db:title>
<db:para>This macro defines the behavior of the list properties of this class to Append. When assigning the property in a derived type, the values are appended to those of the base class. This is the default behavior.</db:para>
<db:programlisting language="cpp">class FruitBasket : QObject {
    Q_OBJECT
    QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_APPEND
    Q_PROPERTY(QQmlListProperty&lt;Fruit&gt; fruit READ fruit)

    public:
    // ...
    QQmlListProperty&lt;Fruit&gt; fruit();
    // ...
};
</db:programlisting>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qqmllistproperty.xml#QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE_IF_NOT_DEFAULT">QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE_IF_NOT_DEFAULT</db:link></db:member>
<db:member><db:link xlink:href="qqmllistproperty.xml#QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE">QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE</db:link></db:member>
<db:member><db:link xlink:href="qtqml-documents-definetypes.xml">Defining Object Types through QML Documents</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE">
<db:title>QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE</db:title>
<db:para>This macro defines the behavior of the list properties of this class to Replace. When assigning the property in a derived type, the values replace those of the base class.</db:para>
<db:programlisting language="cpp">class FruitBasket : QObject {
    Q_OBJECT
    QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE
    Q_PROPERTY(QQmlListProperty&lt;Fruit&gt; fruit READ fruit)

    public:
    // ...
    QQmlListProperty&lt;Fruit&gt; fruit();
    // ...
};
</db:programlisting>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qqmllistproperty.xml#QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_APPEND">QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_APPEND</db:link></db:member>
<db:member><db:link xlink:href="qqmllistproperty.xml#QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE_IF_NOT_DEFAULT">QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE_IF_NOT_DEFAULT</db:link></db:member>
<db:member><db:link xlink:href="qtqml-documents-definetypes.xml">Defining Object Types through QML Documents</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
<db:section xml:id="QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE_IF_NOT_DEFAULT">
<db:title>QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE_IF_NOT_DEFAULT</db:title>
<db:para>This macro defines the behavior of the list properties of this class to ReplaceIfNotDefault. When assigning the property in a derived type, the values replace those of the base class unless it's the default property. In the case of the default property, values are appended to those of the base class.</db:para>
<db:programlisting language="cpp">class FruitBasket : QObject {
    Q_OBJECT
    QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE_IF_NOT_DEFAULT
    Q_PROPERTY(QQmlListProperty&lt;Fruit&gt; fruit READ fruit)

    public:
    // ...
    QQmlListProperty&lt;Fruit&gt; fruit();
    // ...
};
</db:programlisting>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qqmllistproperty.xml#QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_APPEND">QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_APPEND</db:link></db:member>
<db:member><db:link xlink:href="qqmllistproperty.xml#QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE">QML_LIST_PROPERTY_ASSIGN_BEHAVIOR_REPLACE</db:link></db:member>
<db:member><db:link xlink:href="qtqml-documents-definetypes.xml">Defining Object Types through QML Documents</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:section>
</db:section>
<db:section xml:id="obsolete">
<db:title>Obsolete Members for QQmlListProperty</db:title>
<db:para><db:emphasis role="bold">The following members of class <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> are deprecated.</db:emphasis> We strongly advise against using them in new code.</db:para>
<db:section xml:id="obsolete-member-function-documentation">
<db:title>Obsolete Member Function Documentation</db:title>
<db:section xml:id="QQmlListProperty">
<db:title>[default, deprecated] QQmlListProperty::QQmlListProperty(QObject *<db:emphasis>object</db:emphasis>, QList&lt;T *&gt; &amp;<db:emphasis>list</db:emphasis>)</db:title>
<db:para>This function is deprecated. We strongly advise against using it in new code.</db:para>
<db:para>Convenience constructor for making a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> value from an existing <db:link xlink:href="qlist.xml">QList</db:link> <db:code role="parameter">list</db:code>. The <db:code role="parameter">object</db:code> owning the list and the <db:code role="parameter">list</db:code> itself must be provided and kept alive as long as you are holding a <db:link xlink:href="qqmllistproperty.xml">QQmlListProperty</db:link> referring to them.</db:para>
<db:para>This constructor synthesizes the removeLast() and replace() methods introduced in Qt 5.15, using count(), at(), clear(), and append(). This is slow. If you intend to manipulate the list beyond clearing it, you should explicitly provide these methods.</db:para>
</db:section>
</db:section>
</db:section>
</db:article>
