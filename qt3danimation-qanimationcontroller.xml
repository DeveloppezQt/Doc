<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>QAnimationController Class</db:title>
<db:subtitle>Qt3DAnimation::QAnimationController</db:subtitle>
<db:productname>Qt3D</db:productname>
<db:edition>Qt 6.8.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt 3D Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>A controller class for animations.</db:para>
</db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:variablelist>
<db:varlistentry>
<db:term>Header</db:term>
<db:listitem>
<db:para>QAnimationController</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>CMake</db:term>
<db:listitem>
<db:para>find_package(Qt6 REQUIRED COMPONENTS 3danimation)</db:para>
<db:para>target_link_libraries(mytarget PRIVATE Qt6::3danimation)</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>qmake</db:term>
<db:listitem>
<db:para>QT += 3danimation</db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>In QML</db:term>
<db:listitem>
<db:para><db:link xlink:href="qml-qt3d-animation-animationcontroller.xml" xlink:role="">AnimationController</db:link></db:para>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Inherits</db:term>
<db:listitem>
<db:para/>
</db:listitem>
</db:varlistentry>
<db:varlistentry>
<db:term>Status</db:term>
<db:listitem>
<db:para>Deprecated</db:para>
</db:listitem>
</db:varlistentry>
</db:variablelist>
<db:section xml:id="details">
<db:title>Detailed Description</db:title>
<db:para><db:link xlink:href="qt3danimation-qanimationcontroller.xml">Qt3DAnimation::QAnimationController</db:link> class controls the selection and playback of animations. The class can be used to find all animations from <db:link xlink:href="qt3dcore-qentity.xml">Qt3DCore::QEntity</db:link> tree and create <db:link xlink:href="qt3danimation-qanimationgroup.xml">QAnimationGroups</db:link> from the animations with the same name. The user can select which animation group is currently controlled with the animation controller by setting the active animation. The animation position is then propagated to that group after scaling and offsetting the provided position value with the <db:link xlink:href="qt3danimation-qanimationcontroller.xml#positionScale-prop">positionScale</db:link> and <db:link xlink:href="qt3danimation-qanimationcontroller.xml#positionOffset-prop">positionOffset</db:link> values.</db:para>
<db:note>
<db:para>that the animation controller doesn't have internal timer, but instead the user is responsible for updating the position property in timely manner.</db:para>
</db:note>
</db:section>
<db:section xml:id="property-documentation">
<db:title>Property Documentation</db:title>
<db:section xml:id="activeAnimationGroup-prop">
<db:title>activeAnimationGroup : int</db:title>
<db:para>Holds the currectly active animation group.</db:para>
<db:para>
<db:emphasis role="bold">Access functions:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>int</db:type> <db:emphasis role="bold">activeAnimationGroup</db:emphasis>() const</db:para>
</db:listitem>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">setActiveAnimationGroup</db:emphasis>(<db:type>int</db:type> <db:emphasis>index</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>
<db:emphasis role="bold">Notifier signal:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">activeAnimationGroupChanged</db:emphasis>(<db:type>int</db:type> <db:emphasis>index</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="entity-prop">
<db:title>entity : Qt3DCore::QEntity*</db:title>
<db:para>Holds the entity animations are gathered and grouped from. If the controller already holds animations, they are cleared.</db:para>
<db:para>
<db:emphasis role="bold">Access functions:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type><db:link xlink:href="qt3dcore-qentity.xml">Qt3DCore::QEntity</db:link></db:type> *<db:emphasis role="bold">entity</db:emphasis>() const</db:para>
</db:listitem>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">setEntity</db:emphasis>(<db:type><db:link xlink:href="qt3dcore-qentity.xml">Qt3DCore::QEntity</db:link></db:type> *<db:emphasis>entity</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>
<db:emphasis role="bold">Notifier signal:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">entityChanged</db:emphasis>(<db:type><db:link xlink:href="qt3dcore-qentity.xml">Qt3DCore::QEntity</db:link></db:type> *<db:emphasis>entity</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="position-prop">
<db:title>position : float</db:title>
<db:para>Holds the current position of the animation. When the position is set, it is scaled and offset with <db:link xlink:href="qt3danimation-qanimationcontroller.xml#positionScale-prop">positionScale</db:link>/<db:link xlink:href="qt3danimation-qanimationcontroller.xml#positionOffset-prop">positionOffset</db:link> and propagated to the active animation group.</db:para>
<db:para>
<db:emphasis role="bold">Access functions:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>float</db:type> <db:emphasis role="bold">position</db:emphasis>() const</db:para>
</db:listitem>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">setPosition</db:emphasis>(<db:type>float</db:type> <db:emphasis>position</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>
<db:emphasis role="bold">Notifier signal:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">positionChanged</db:emphasis>(<db:type>float</db:type> <db:emphasis>position</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="positionOffset-prop">
<db:title>positionOffset : float</db:title>
<db:para>Holds the position offset of the animation.</db:para>
<db:para>
<db:emphasis role="bold">Access functions:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>float</db:type> <db:emphasis role="bold">positionOffset</db:emphasis>() const</db:para>
</db:listitem>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">setPositionOffset</db:emphasis>(<db:type>float</db:type> <db:emphasis>offset</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>
<db:emphasis role="bold">Notifier signal:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">positionOffsetChanged</db:emphasis>(<db:type>float</db:type> <db:emphasis>offset</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="positionScale-prop">
<db:title>positionScale : float</db:title>
<db:para>Holds the position scale of the animation.</db:para>
<db:para>
<db:emphasis role="bold">Access functions:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>float</db:type> <db:emphasis role="bold">positionScale</db:emphasis>() const</db:para>
</db:listitem>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">setPositionScale</db:emphasis>(<db:type>float</db:type> <db:emphasis>scale</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>
<db:emphasis role="bold">Notifier signal:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">positionScaleChanged</db:emphasis>(<db:type>float</db:type> <db:emphasis>scale</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
<db:section xml:id="recursive-prop">
<db:title>recursive : bool</db:title>
<db:para>Holds whether the recursively search the entity tree when gathering animations from the entity. If set to true, the animations are searched also from the child entities of the entity. If set to false, only the entity passed to the controller is searched.</db:para>
<db:para>
<db:emphasis role="bold">Access functions:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>bool</db:type> <db:emphasis role="bold">recursive</db:emphasis>() const</db:para>
</db:listitem>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">setRecursive</db:emphasis>(<db:type>bool</db:type> <db:emphasis>recursive</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>
<db:emphasis role="bold">Notifier signal:
</db:emphasis>
</db:para>
<db:itemizedlist>
<db:listitem>
<db:para><db:type>void</db:type> <db:emphasis role="bold">recursiveChanged</db:emphasis>(<db:type>bool</db:type> <db:emphasis>recursive</db:emphasis>)</db:para>
</db:listitem>
</db:itemizedlist>
</db:section>
</db:section>
<db:section xml:id="member-function-documentation">
<db:title>Member Function Documentation</db:title>
<db:section xml:id="QAnimationController">
<db:title>QAnimationController::QAnimationController(QObject *<db:emphasis>parent</db:emphasis> = nullptr)</db:title>
<db:para>Constructs a new <db:link xlink:href="qt3danimation-qanimationcontroller.xml">QAnimationController</db:link> with <db:code role="parameter">parent</db:code>.</db:para>
</db:section>
<db:section xml:id="addAnimationGroup">
<db:title>void QAnimationController::addAnimationGroup(Qt3DAnimation::QAnimationGroup *<db:emphasis>animationGroup</db:emphasis>)</db:title>
<db:para>Adds the given <db:code role="parameter">animationGroup</db:code> to the controller.</db:para>
</db:section>
<db:section xml:id="animationGroupList">
<db:title>QList&lt;Qt3DAnimation::QAnimationGroup *&gt; QAnimationController::animationGroupList()</db:title>
<db:para>Returns the list of animation groups the conroller is currently holding.</db:para>
</db:section>
<db:section xml:id="getAnimationIndex">
<db:title>int QAnimationController::getAnimationIndex(const QString &amp;<db:emphasis>name</db:emphasis>) const</db:title>
<db:para>Returns the index of the animation with <db:code role="parameter">name</db:code>. Returns -1 if no <db:link xlink:href="qml-qt3d-animation-animationgroup.xml">AnimationGroup</db:link> with the given name is found.</db:para>
</db:section>
<db:section xml:id="getGroup">
<db:title>Qt3DAnimation::QAnimationGroup *QAnimationController::getGroup(int <db:emphasis>index</db:emphasis>) const</db:title>
<db:para>Returns the <db:link xlink:href="qml-qt3d-animation-animationgroup.xml">AnimationGroup</db:link> with the given <db:code role="parameter">index</db:code>.</db:para>
</db:section>
<db:section xml:id="removeAnimationGroup">
<db:title>void QAnimationController::removeAnimationGroup(Qt3DAnimation::QAnimationGroup *<db:emphasis>animationGroup</db:emphasis>)</db:title>
<db:para>Removes the given <db:code role="parameter">animationGroup</db:code> from the controller.</db:para>
</db:section>
<db:section xml:id="setAnimationGroups">
<db:title>void QAnimationController::setAnimationGroups(const QList&lt;Qt3DAnimation::QAnimationGroup *&gt; &amp;<db:emphasis>animationGroups</db:emphasis>)</db:title>
<db:para>Sets the <db:code role="parameter">animationGroups</db:code> for the controller. Old groups are cleared.</db:para>
</db:section>
</db:section>
</db:article>
