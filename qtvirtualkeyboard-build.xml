<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Building Qt Virtual Keyboard</db:title>
<db:productname>QtVirtualKeyboard</db:productname>
<db:edition>Qt 5.8.0 Reference Documentation</db:edition>
<db:titleabbrev>Qt Virtual Keyboard</db:titleabbrev>
<db:abstract>
<db:para>Qt Virtual Keyboard.</db:para></db:abstract>
<db:pubdate>2025-06-29</db:pubdate>
<db:date>2025-06-29</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para><db:emphasis role="bold">&lt;Unknown command&gt;<db:code>contentspage</db:code></db:emphasis>{Building Qt Virtual Keyboard} {Contents}</db:para>
<db:section xml:id="overview">
<db:title>Overview</db:title>
<db:para>This document describes how to build the Qt Virtual Keyboard plugin.</db:para>
<db:para>The project is split into the following subprojects:</db:para>
<db:informaltable style="generic">
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>examples/virtualkeyboard/basic/basic.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Qt Virtual Keyboard Demo application</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/virtualkeyboard.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Qt Virtual Keyboard plugin</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/styles/styles.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Qt Virtual Keyboard Style plugin that enables style decorations for the keyboard</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/3rdparty/hunspell/hunspell.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>A project file for compiling the Hunspell library.</db:para>
<db:note>
<db:para>This project is used if the Hunspell library is built from sources rather than depending on the system library. The project will be activated when the source code is extracted to this directory.</db:para>
</db:note>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/3rdparty/lipi-toolkit/lipi-toolkit.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>A project file for compiling the lipi-toolkit library.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/3rdparty/openwnn/openwnn.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>A project file for compiling the OpenWNN library.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/3rdparty/pinyin/pinyin.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>A project file for compiling the PinyinIME library.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/3rdparty/t9write/t9write.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>A project file for including T9 Write dictionaries as resources.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>src/virtualkeyboard/3rdparty/tcime/tcime.pro</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>A project file for compiling the TCIME library.</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:para>The input methods are implemented either in C++ or QML. Qt Virtual Keyboard provides implementations of <db:emphasis>PlainInputMethod</db:emphasis>, <db:emphasis>MultitapInputMethod</db:emphasis> and <db:emphasis>HunspellInputMethod</db:emphasis>. The <db:emphasis>MultitapInputMethod</db:emphasis> is implemented in QML while the others are implemented in C++.</db:para>
</db:section>
<db:section xml:id="build-instructions">
<db:title>Build Instructions</db:title>
<db:para>The Qt Virtual Keyboard can be built for Linux Desktop/X11, Windows Desktop or Boot2Qt targets. The target is automatically detected by QMAKE and requires no special configuration parameters.</db:para>
<db:para>Qt Creator is the preferred build environment for Qt Virtual Keyboard as you can then leverage the shadow build functionality and rapidly switch between build targets.</db:para>
<db:section xml:id="configuration-options">
<db:title>Configuration Options</db:title>
<db:para>The table below contains the top-level options for configuring the virtual keyboard features.</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>CONFIG</db:para>
</db:th>
<db:th>
<db:para>Description</db:para>
</db:th>
<db:th>
<db:para>Remarks</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>lang-&lt;code&gt;</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the specified language</db:para>
</db:td>
<db:td>
<db:para>The specified language can be activated using <db:emphasis>lang-&lt;code&gt;</db:emphasis> option, which has the format &quot;language[_country]&quot;, where:</db:para>
<db:itemizedlist>
<db:listitem>
<db:para>language is a lowercase, two-letter, ISO 639 language code</db:para>
</db:listitem>
<db:listitem>
<db:para>country is an uppercase, two-letter, ISO 3166 country code</db:para>
</db:listitem>
</db:itemizedlist>
<db:para>This option can be used to define the language support as required. The virtual keyboard can support one or more languages at a time.</db:para>
<db:para>For example, <db:code>CONFIG+=lang-fi</db:code> activates the Finnish language.</db:para>
<db:para>The virtual keyboard automatically includes the English language if no other languages are specified.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>lang-all</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables all the languages</db:para>
</db:td>
<db:td>
<db:para>Enables all the languages supported by the virtual keyboard. This flag is essentially an alias for <db:code>CONFIG+=&quot;lang-ar_AR lang-da_DK lang-de_DE lang-en_GB lang-es_ES lang-fa_FA lang-fi_FI lang-fr_FR lang-hi_IN lang-it_IT lang-ja_JP lang-ko_KR lang-nb_NO lang-pl_PL lang-pt_PT lang-ru_RU lang-sv_SE lang-zh_CN lang-zh_TW&quot;</db:code></db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>handwriting</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables handwriting input</db:para>
</db:td>
<db:td>
<db:para>This flag enables handwriting input using the first engine available at build time in the following order: <db:code>t9write</db:code>, <db:code>lipi-toolkit</db:code>. To enable handwriting input using a specific engine, use the feature-specific configuration instead. For example, <db:code>CONFIG+=lipi-toolkit</db:code>.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>arrow-key-navigation</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables arrow key navigation for the keyboard</db:para>
</db:td>
<db:td>
<db:para>Allows controlling the keyboard using the arrow and return keys.</db:para>
</db:td>
</db:tr>
</db:informaltable>
<db:section xml:id="advanced-configuration-options">
<db:title>Advanced Configuration Options</db:title>
<db:para>The table below shows the advanced configuration options that will be applied automatically when activating a certain top-level feature. The options can also be used for enabling or disabling a specific feature.</db:para>
<db:para>In most cases, these options are not needed, but there are also cases where their use is justified. For example, the Traditional Chinese language (CONFIG=lang-zh_TW) will include both Zhuyin and Cangjie input methods by default. This behavior can be changed by adding the preferred input method to the configuration, e.g., <db:code>CONFIG+=&quot;lang-zh_TW</db:code> zhuyin&quot;.</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Advanced CONFIG</db:para>
</db:th>
<db:th>
<db:para>Top-level CONFIG</db:para>
</db:th>
<db:th>
<db:para>Description</db:para>
</db:th>
<db:th>
<db:para>Remarks</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>disable-desktop</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>n/a</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Disables Desktop integration</db:para>
</db:td>
<db:td>
<db:para>By default, the desktop integration is enabled when the target environment is X11 or Windows desktop. With this option, the desktop integration can be disabled.</db:para>
<db:note>
<db:para>For embedded integration, where the <db:link xlink:href="qml-qtquick-virtualkeyboard-inputpanel.xml">InputPanel</db:link> is instantitated by the application, there is no need to use this option explicitly. The virtual keyboard will not create the desktop input panel if the application creates <db:link xlink:href="qml-qtquick-virtualkeyboard-inputpanel.xml">InputPanel</db:link> before the focus is set to an input field.</db:para>
</db:note>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>disable-xcb</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>n/a</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Disables X11 integration</db:para>
</db:td>
<db:td>
<db:note>
<db:para>Deprecated since 1.3. Use <db:emphasis>disable-desktop</db:emphasis> instead.</db:para>
</db:note>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>disable-hunspell</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>n/a</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Disables Hunspell integration</db:para>
</db:td>
<db:td>
<db:para>Hunspell integration is enabled if the Hunspell library is available on the system, or if it is built using the local project file. Integration can be disabled using this option.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>static</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables static builds of the virtual keyboard</db:para>
</db:td>
<db:td>
<db:para>This option enables <db:link xlink:href="qtvirtualkeyboard-build.xml#static-builds">static builds</db:link>.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>retro-style</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>n/a</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables Retro style</db:para>
</db:td>
<db:td>
<db:para>Changes the default keyboard style to the Retro style. Both styles are still included in the package, but this option allows you to change the built-in default style.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>pinyin</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>lang-zh_CN</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the Pinyin input method for Simplified Chinese.</db:para>
</db:td>
<db:td>
<db:para>This option activates the Pinyin input method for the Simplified Chinese language.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>tcime</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>lang-zh_TW</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the both Cangjie and Zhuyin input methods for Traditional Chinese.</db:para>
</db:td>
<db:td>
<db:para>This option activates the both Cangjie and Zhuyin input methods for the Traditional Chinese language.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>cangjie</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>lang-zh_TW</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the Cangjie input method for Traditional Chinese.</db:para>
</db:td>
<db:td>
<db:para>This option activates the Cangjie input method for the Traditional Chinese language.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>zhuyin</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>lang-zh_TW</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the Zhuyin input method for Traditional Chinese.</db:para>
</db:td>
<db:td>
<db:para>This option activates the Zhuyin input method for the Traditional Chinese language.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>hangul</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>lang-ko_KR</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the Hangul input method for Korean.</db:para>
</db:td>
<db:td>
<db:para>This option activates the Hangul input method for the Korean language.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>openwnn</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>lang-ja_JP</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the OpenWnn input method for Japanese.</db:para>
</db:td>
<db:td>
<db:para>This option activates the OpenWnn input method for the Japanese language.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>lipi-toolkit</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>handwriting</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the handwriting input method using Lipi Toolkit.</db:para>
</db:td>
<db:td>
<db:para>Handwriting recognition is based on the open source Lipi Toolkit.</db:para>
</db:td>
</db:tr>
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>t9write</db:emphasis></db:para>
</db:td>
<db:td>
<db:para><db:emphasis>handwriting</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Enables the handwriting input method using T9 Write.</db:para>
</db:td>
<db:td>
<db:para>Handwriting recognition is based on the commercial T9 Write product from Nuance Communications.</db:para>
</db:td>
</db:tr>
</db:informaltable>
</db:section>
</db:section>
<db:section xml:id="building-documentation">
<db:title>Building Documentation</db:title>
<db:informaltable style="generic">
<db:tr valign="top">
<db:td>
<db:para><db:emphasis>make docs</db:emphasis></db:para>
</db:td>
<db:td>
<db:para>Generates documentation</db:para>
</db:td>
</db:tr>
</db:informaltable>
</db:section>
<db:section xml:id="hunspell-integration">
<db:title>Hunspell Integration</db:title>
<db:para>By default, <db:emphasis>HunspellInputMethod</db:emphasis> will not be available unless the Hunspell library and development headers are found. For Linux/X11 targets, the Hunspell library can be provided by installing the libhunspell-dev package. Alternatively, the Hunspell sources can be extracted into the <db:emphasis>src/virtualkeyboard/3rdparty/hunspell</db:emphasis> directory. If Hunspell sources are used, then the dictionary files must also be copied into the <db:emphasis>src/virtualkeyboard/3rdparty/hunspell/data</db:emphasis> directory. Furthermore, if Hunspell sources are used, <db:emphasis>hunspell.pro</db:emphasis> will be used for all targets.</db:para>
</db:section>
<db:section xml:id="static-builds">
<db:title>Static builds</db:title>
<db:para>The virtual keyboard can be built and linked statically against the application. This implies that Qt is also built statically (using the -static option in the configure command line).</db:para>
<db:para>Static builds of the virtual keyboard are enabled by adding <db:code>CONFIG+=static</db:code> to the qmake command line and then rebuilding.</db:para>
<db:para>Some third party modules used by the virtual keyboard are always built as shared libraries. These modules are Hunspell and Lipi Toolkit.</db:para>
<db:section xml:id="using-the-static-plugin">
<db:title>Using the static plugin</db:title>
<db:para>The following section should be added to the application project file that uses the statically built virtual keyboard.</db:para>
<db:programlisting language="cpp">static {
    QTPLUGIN += qtvirtualkeyboardplugin
    QT += svg
}
</db:programlisting>
<db:para><db:code>QTPLUGIN</db:code> causes qmake to pull linker dependencies for the virtual keyboard plugin. The SVG module is required as an extra dependency for Qt, since the SVG format is required by the default styles.</db:para>
<db:para>From here on, using a statically built virtual keyboard is no different from the normal case.</db:para>
</db:section>
</db:section>
</db:section>
<db:section xml:id="deployment">
<db:title>Deployment</db:title>
<db:section xml:id="desktop-targets">
<db:title>Desktop Targets</db:title>
<db:para>Add a Deploy Step that executes the <db:emphasis>make install</db:emphasis> command, then deploy using the <db:emphasis>Deploy All</db:emphasis> command.</db:para>
</db:section>
<db:section xml:id="boot2qt-targets">
<db:title>Boot2Qt Targets</db:title>
<db:para>The installation is done by copying the necessary files to the memory card, or by using the adb push command.</db:para>
</db:section>
</db:section>
</db:article>
