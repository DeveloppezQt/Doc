<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Qt TextToSpeech Engines</db:title>
<db:productname>QtTextToSpeech</db:productname>
<db:edition>Qt 6.6.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt TextToSpeech Documentation</db:titleabbrev>
<db:abstract>
<db:para>Engine specific documentation.</db:para>
</db:abstract>
<db:pubdate>2024-12-27</db:pubdate>
<db:date>2024-12-27</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para><db:link xlink:href="qttexttospeech-index.xml">Qt TextToSpeech</db:link> supports several engine implementations for different platforms, and with different tradeoffs between capabilities, availability, and runtime cost.</db:para>
<db:para>An engine can be selected when a <db:link xlink:href="qtexttospeech.xml">QTextToSpeech</db:link> instance is constructed, or on an already instantiated object by setting the <db:link xlink:href="qtexttospeech.xml#engine-prop">engine</db:link> property. If no engine is specified, the preferred engine for the current platform will be used. Call <db:link xlink:href="qtexttospeech.xml#availableEngines">availableEngines</db:link>() to get the list of engines that can be used on the current system. This will include a &quot;mock&quot; engine that is used for testing, and that should not be deployed to target systems.</db:para>
<db:para>When setting the engine, applications can pass a <db:link xlink:href="qvariant.xml#QVariantMap-typedef">QVariantMap</db:link> with key/value pairs of engine specific parameters through to the engine. The following sections list the configuration parameters supported for each engine. Parameters that are not supported by the engine will be silently ignored.</db:para>
<db:section xml:id="winrt">
<db:title>WinRT</db:title>
<db:para>The &quot;winrt&quot; engine uses the APIs from the <db:link xlink:href="https://docs.microsoft.com/en-us/uwp/api/windows.media.speechsynthesis">Windows.Media.SpeechSynthesis Namespace</db:link>. It requires a recent Windows SDK, and is not available when using the MinGW compiler. The engine provides access to all voices available for installation on current Windows versions.</db:para>
<db:para>The implementation uses <db:link xlink:href="qaudiosink.xml">QAudioSink</db:link> from <db:link xlink:href="qtmultimedia-index.xml">Qt Multimedia</db:link> to play the PCM data stream generated by the synthesizer to an audio device.</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Name</db:para>
</db:th>
<db:th>
<db:para>Type</db:para>
</db:th>
<db:th>
<db:para>Remarks</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para><db:link xlink:href="qml-audiodevice.xml">audioDevice</db:link></db:para>
</db:td>
<db:td>
<db:para><db:link xlink:href="qaudiodevice.xml">QAudioDevice</db:link></db:para>
</db:td>
<db:td>
</db:td>
</db:tr>
</db:informaltable>
</db:section>
<db:section xml:id="sapi">
<db:title>SAPI</db:title>
<db:para>The &quot;sapi&quot; engine uses the <db:link xlink:href="https://docs.microsoft.com/en-us/previous-versions/windows/desktop/ms723627(v=vs.85)">SAPI 5.3</db:link> framework that is included in the Windows SDK. It provides a limited selection of voices, with reduced quality compared to the &quot;winrt&quot; engine.</db:para>
<db:para>The SAPI engine does not support any engine specific parameters.</db:para>
</db:section>
<db:section xml:id="darwin">
<db:title>Darwin</db:title>
<db:para>The &quot;darwin&quot; engine uses the <db:link xlink:href="https://developer.apple.com/documentation/avfoundation/speech_synthesis?language=objc">AVFoundation</db:link> framework that is available on iOS devices and on macOS 10.15. The documentation of the framework states support for macOS 10.14 as well, but by default no voices are available on that platform.</db:para>
<db:para>The Darwin engine does not support any engine specific parameters.</db:para>
</db:section>
<db:section xml:id="macos">
<db:title>macOS</db:title>
<db:para>The &quot;macos&quot; engine uses the <db:link xlink:href="https://developer.apple.com/documentation/appkit/nsspeechsynthesizer?language=objc">NSSpeechDispatcher</db:link> framework from AppKit. It is only available on macOS systems, but works out of the box on macOS 10.14. The number of available voices is limited compared to the iOS engine.</db:para>
<db:para>The macOS engine does not support any engine specific parameters.</db:para>
<db:note>
<db:para>The &quot;macos&quot; engine does not have the <db:link xlink:href="qtexttospeech.xml#Capability-enum">Synthesize</db:link> capability. The &quot;darwin&quot; engine is the default and preferred engine on all macOS and iOS systems supported by Qt. The macOS engine should not be used anymore and will be removed in Qt 6.8.</db:para>
</db:note>
</db:section>
<db:section xml:id="android">
<db:title>Android</db:title>
<db:para>The &quot;android&quot; engine is the only engine available on the Android platform. It uses the <db:link xlink:href="https://developer.android.com/reference/android/speech/tts/TextToSpeech">TextToSpeech</db:link> package, which in turn supports multiple engine backends.</db:para>
<db:note>
<db:para>The &quot;android&quot; engine does not have the <db:link xlink:href="qtexttospeech.xml#Capability-enum">PauseResume</db:link> capability.</db:para>
</db:note>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Name</db:para>
</db:th>
<db:th>
<db:para>Type</db:para>
</db:th>
<db:th>
<db:para>Remarks</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para>androidEngine</db:para>
</db:td>
<db:td>
<db:para><db:link xlink:href="qstring.xml">QString</db:link></db:para>
</db:td>
<db:td>
<db:para>There is no API in Qt to get the list of installed engines.</db:para>
</db:td>
</db:tr>
</db:informaltable>
</db:section>
<db:section xml:id="flite">
<db:title>Flite</db:title>
<db:para>The &quot;flite&quot; engine uses the <db:link xlink:href="https://github.com/festvox/flite">flite</db:link> synthesizer. The engine's small footprint makes it particularly useful for embedded environments. The plugin requires at least Flite 2.2, and uses <db:link xlink:href="qaudiosink.xml">QAudioSink</db:link> from <db:link xlink:href="qtmultimedia-index.xml">Qt Multimedia</db:link> to render the generated PCM data stream.</db:para>
<db:para>The engine plugin searches for voice libraries in the directories listed in the <db:code>LD_LIBRARY_PATH</db:code> environment variable, and falls back to search common library locations such as <db:code>/usr/lib</db:code>, <db:code>/usr/lib64</db:code>, and <db:code>/usr/lib/x86_64-linux-gnu</db:code>.</db:para>
<db:para>If Flite is used as a static library, then the desired voice libraries also need to be statically linked into the engine plugin. There is currently not build system API implemented for selecting such voice libraries when configuring Qt.</db:para>
<db:informaltable style="generic">
<db:thead>
<db:tr>
<db:th>
<db:para>Name</db:para>
</db:th>
<db:th>
<db:para>Type</db:para>
</db:th>
<db:th>
<db:para>Remarks</db:para>
</db:th>
</db:tr>
</db:thead>
<db:tr valign="top">
<db:td>
<db:para><db:link xlink:href="qml-audiodevice.xml">audioDevice</db:link></db:para>
</db:td>
<db:td>
<db:para><db:link xlink:href="qaudiodevice.xml">QAudioDevice</db:link></db:para>
</db:td>
<db:td>
</db:td>
</db:tr>
</db:informaltable>
</db:section>
<db:section xml:id="speech-dispatcher">
<db:title>speech-dispatcher</db:title>
<db:para>The &quot;speechd&quot; engine communicates with the <db:link xlink:href="https://htmlpreview.github.io/?https://github.com/brailcom/speechd/blob/master/doc/speech-dispatcher.html#Top">speech-dispatcher</db:link> daemon, and requires at least libspeechd 0.9.</db:para>
<db:note>
<db:para>The speech-dispatcher engine does not have the <db:link xlink:href="qtexttospeech.xml#Capability-enum">WordByWordProgress</db:link> or <db:link xlink:href="qtexttospeech.xml#Capability-enum">Synthesize</db:link> capabilities.</db:para>
</db:note>
<db:para>The speech-dispatcher engine does not support any engine specific parameters.</db:para>
</db:section>
</db:article>
