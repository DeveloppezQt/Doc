<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>qt_android_add_apk_target</db:title>
<db:productname>QtCore</db:productname>
<db:edition>Qt 6.1.3 Reference Documentation</db:edition>
<db:titleabbrev>Qt Core Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Defines a build target that runs androiddeployqt to produce an APK.</db:para>
</db:abstract>
<db:pubdate>2024-12-27</db:pubdate>
<db:date>2024-12-27</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:anchor xml:id="qt6-android-add-apk-target"/>
<db:note>
<db:para>This command is in technology preview and may change in future releases.</db:para>
</db:note>
<db:note>
<db:para>This command should only be called if targeting the Android platform.</db:para>
</db:note>
<db:section xml:id="synopsis">
<db:title>Synopsis</db:title>
<db:programlisting language="cpp" role="bad">qt_android_add_apk_target(target)

qt6_android_add_apk_target(target)
</db:programlisting>
</db:section>
<db:section xml:id="description">
<db:title>Description</db:title>
<db:para>The &lt;target&gt;_make_apk custom target created by this command takes an Android deployment settings file and generates an APK by running androiddeployqt. The location of the settings file is taken from the target's QT_ANDROID_DEPLOYMENT_SETTINGS_FILE property. This file is typically created by <db:link xlink:href="qt-android-generate-deployment-settings.xml#qt6-android-generate-deployment-settings">qt_android_generate_deployment_settings()</db:link>. The .apk file will be generated in an android-build subdirectory below the CMake build directory of the target.</db:para>
<db:para>The &lt;target&gt;_make_apk target will be automatically added as a dependency of the apk build target, which will be created if it doesn't already exist. This can be disabled by setting the QT_NO_GLOBAL_APK_TARGET variable to true.</db:para>
</db:section>
<db:section xml:id="example">
<db:title>Example</db:title>
<db:programlisting language="cpp">qt_android_generate_deployment_settings(myapp)
qt_android_add_apk_target(myapp)
</db:programlisting>
<db:para>The above commands define the build targets myapp_make_apk and apk, which can be used to generate just the myapp APK or all APKs in the project respectively.</db:para>
</db:section>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qt-android-generate-deployment-settings.xml#qt6-android-generate-deployment-settings">qt_android_generate_deployment_settings()</db:link></db:member>
<db:member><db:link xlink:href="qt-finalize-executable.xml#qt6-finalize-executable">qt_finalize_executable()</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:article>
