<?xml version="1.0" encoding="UTF-8"?>
<db:article xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.2" xml:lang="en">
<db:info>
<db:title>Simple Anchor Layout Example</db:title>
<db:productname>QtWidgets</db:productname>
<db:edition>Qt 5.14.2 Reference Documentation</db:edition>
<db:titleabbrev>Qt Widgets Reference Documentation</db:titleabbrev>
<db:abstract>
<db:para>Demonstrates anchor layout on a graphics view scene.</db:para>
</db:abstract>
<db:pubdate>2024-12-27</db:pubdate>
<db:date>2024-12-27</db:date>
<db:authorgroup>
<db:author>
<db:orgname class="corporation">The Qt Company Ltd.</db:orgname>
</db:author>
</db:authorgroup>
</db:info>
<db:para>The Simple Anchor Layout example shows the basic use of the QGraphicsAnchorLayout class.</db:para>
<db:mediaobject>
<db:imageobject>
<db:imagedata fileref="images/graphicssimpleanchorlayout-example.png"/>
</db:imageobject>
</db:mediaobject>
<db:para>The example starts by creating a QGraphicsScene (<db:code>scene</db:code>), 3 widgets (<db:code>a</db:code>, <db:code>b</db:code>, and <db:code>c</db:code>), and a QGraphicsAnchorlayout (<db:code>layout</db:code>).</db:para>
<db:programlisting language="cpp">    QGraphicsScene scene;

    Widget *a = new Widget(Qt::blue, Qt::white, &quot;a&quot;);
    a-&amp;gt;setPreferredSize(100, 100);
    Widget *b = new Widget(Qt::green, Qt::black, &quot;b&quot;);
    b-&amp;gt;setPreferredSize(100, 100);
    Widget *c = new Widget(Qt::red, Qt::black, &quot;c&quot;);
    c-&amp;gt;setPreferredSize(100, 100);

    QGraphicsAnchorLayout *layout = new QGraphicsAnchorLayout;
</db:programlisting>
<db:para>First it anchors the top left corner of item <db:code>a</db:code> to the top left corner of <db:code>layout</db:code>. This can be done in two steps:</db:para>
<db:programlisting language="cpp">    layout-&amp;gt;addAnchor(a, Qt::AnchorTop, layout, Qt::AnchorTop);
    layout-&amp;gt;addAnchor(a, Qt::AnchorLeft, layout, Qt::AnchorLeft);
</db:programlisting>
<db:para>Or in one step:</db:para>
<db:programlisting language="cpp">    layout-&amp;gt;addCornerAnchors(a, Qt::TopLeftCorner, layout, Qt::TopLeftCorner);
</db:programlisting>
<db:para>Then the right anchor of <db:code>a</db:code> is anchored to the left anchor of <db:code>b</db:code>, and the top of item <db:code>b</db:code> is anchored to the bottom of <db:code>a</db:code>.</db:para>
<db:programlisting language="cpp">    layout-&amp;gt;addAnchor(b, Qt::AnchorLeft, a, Qt::AnchorRight);
    layout-&amp;gt;addAnchor(b, Qt::AnchorTop, a, Qt::AnchorBottom);
</db:programlisting>
<db:para>Place a third widget <db:code>c</db:code> under widget <db:code>b</db:code>:</db:para>
<db:programlisting language="cpp">    layout-&amp;gt;addAnchor(b, Qt::AnchorBottom, c, Qt::AnchorTop);
</db:programlisting>
<db:para>Items <db:code>b</db:code> and <db:code>c</db:code> are anchored to each other horizontally:</db:para>
<db:programlisting language="cpp">    layout-&amp;gt;addAnchors(b, c, Qt::Horizontal);
</db:programlisting>
<db:para>Item c is anchored to the bottom right point of <db:code>layout</db:code></db:para>
<db:programlisting language="cpp">    layout-&amp;gt;addCornerAnchors(c, Qt::BottomRightCorner, layout, Qt::BottomRightCorner);
</db:programlisting>
<db:para>Finally, QGraphicsWidget <db:code>w</db:code> is displayed in QGraphicsView <db:code>view</db:code>.</db:para>
<db:programlisting language="cpp">    auto w = new QGraphicsWidget(nullptr, Qt::Window | Qt::CustomizeWindowHint | Qt::WindowTitleHint);
    w-&amp;gt;setPos(20, 20);
    w-&amp;gt;setMinimumSize(100, 100);
    w-&amp;gt;setPreferredSize(320, 240);
    w-&amp;gt;setLayout(layout);
    w-&amp;gt;setWindowTitle(QApplication::translate(&quot;simpleanchorlayout&quot;, &quot;QGraphicsAnchorLayout in use&quot;));
    scene.addItem(w);

    QGraphicsView view;
    view.setScene(&amp;amp;scene);
    view.setWindowTitle(QApplication::translate(&quot;simpleanchorlayout&quot;, &quot;Simple Anchor Layout&quot;));

    view.resize(360, 320);
    view.show();

    return app.exec();
</db:programlisting>
<db:section>
<db:title>Example project</db:title>
<db:para><db:link xlink:href="https://code.qt.io/cgit/qt/qtbase.git/tree/examples/widgets/graphicsview/simpleanchorlayout?h=5.14">Example project @ code.qt.io</db:link></db:para>
</db:section>
<db:section>
<db:title>See Also</db:title>
<db:para><db:emphasis>See also </db:emphasis>
<db:simplelist type="vert" role="see-also">
<db:member><db:link xlink:href="qtwidgets-graphicsview-anchorlayout-example.xml">Anchor Layout Example</db:link></db:member>
</db:simplelist>
</db:para>
</db:section>
</db:article>
